<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Confluent documentation"><meta name=author content="Confluent Community"><link href="https://obihoernchen.github.io/confluent-docs/miscellaneous/nvidiagpudriverinstall/" rel="canonical"><link href=../manageconfluent/ rel=prev><link href=../osdeploysecurity/ rel=next><link rel=icon href=../../assets/icon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.22"><title>NVIDIA GPU Driver Install on RHEL 9.5 and Ubuntu 24.04.2 - Confluent</title><link rel=stylesheet href=../../assets/stylesheets/main.84d31ad4.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel="stylesheet" href="../../assets/external/fonts.googleapis.com/css.49ea35f2.css"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../css/timeago.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=red data-md-color-accent=red> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#nvidia-gpu-driver-install-on-rhel-95 class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=Confluent class="md-header__button md-logo" aria-label=Confluent data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Confluent </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> NVIDIA GPU Driver Install on RHEL 9.5 and Ubuntu 24.04.2 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=red data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=red data-md-color-accent=red aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href="https://github.com/xcat2/confluent-docs" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> xcat2/confluent-docs </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../getting_started/confluentquickstart_el8/ class=md-tabs__link> Getting started </a> </li> <li class=md-tabs__item> <a href=../../user_reference/attributeexpressions/ class=md-tabs__link> User reference </a> </li> <li class=md-tabs__item> <a href=../../troubleshooting/attributeexpressionstroubleshooting/ class=md-tabs__link> Troubleshooting </a> </li> <li class=md-tabs__item> <a href=../../advanced_topics/collective/ class=md-tabs__link> Advanced topics </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../bf3-troubleshooting/ class=md-tabs__link> Miscellaneous </a> </li> <li class=md-tabs__item> <a href=../../manuals/ class=md-tabs__link> Manuals </a> </li> <li class=md-tabs__item> <a href=../../developer/api/ class=md-tabs__link> Developer </a> </li> <li class=md-tabs__item> <a href=../../downloads/ class=md-tabs__link> Downloads </a> </li> <li class=md-tabs__item> <a href=../../release_notes/ class=md-tabs__link> Release notes </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=Confluent class="md-nav__button md-logo" aria-label=Confluent data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Confluent </label> <div class=md-nav__source> <a href="https://github.com/xcat2/confluent-docs" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> xcat2/confluent-docs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Getting started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting_started/confluentquickstart_el8/ class=md-nav__link> <span class=md-ellipsis> Confluent quickstart </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/confluentgroups/ class=md-nav__link> <span class=md-ellipsis> Confluent Groups </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/installconfluent_rhel/ class=md-nav__link> <span class=md-ellipsis> Confluent Installation for Red Hat Enterprise Linux </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/installconfluent_ubuntu/ class=md-nav__link> <span class=md-ellipsis> Confluent Installation for Ubuntu </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/installconfluent_suse/ class=md-nav__link> <span class=md-ellipsis> Confluent Installation for SUSE Linux Enterprise </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/configureconfluent/ class=md-nav__link> <span class=md-ellipsis> Configuring confluent </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/ibinstallconfluentrhel8/ class=md-nav__link> <span class=md-ellipsis> InfiniBand install with confluent on RHEL 8 </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/ibinstallconfluentsle152/ class=md-nav__link> <span class=md-ellipsis> InfiniBand install with confluent on SLE 15.2 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> User reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> User reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user_reference/attributeexpressions/ class=md-nav__link> <span class=md-ellipsis> Attribute Expressions </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/centosdeploy/ class=md-nav__link> <span class=md-ellipsis> OS Deployment Notes for CentOS </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/chainedsmmdiscovery/ class=md-nav__link> <span class=md-ellipsis> Discovery with chained ThinkSystem D2 enclosures </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/confluentconfignotes/ class=md-nav__link> <span class=md-ellipsis> Confluent configuration and troubleshooting notes for Lenovo hardware </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/confluentdiscovery/ class=md-nav__link> <span class=md-ellipsis> Node discovery and autoconfiguration with confluent </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/confluentrackview/ class=md-nav__link> <span class=md-ellipsis> Setting up the confluent rackview </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/el7deploy/ class=md-nav__link> <span class=md-ellipsis> OS Deployment Notes for RedHat Enterprise Linux 7 </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/node_attributes/ class=md-nav__link> <span class=md-ellipsis> Node Attributes </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/noderange/ class=md-nav__link> <span class=md-ellipsis> Noderange Syntax </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/suse15deploy/ class=md-nav__link> <span class=md-ellipsis> OS Deployment Notes for SLE/SUSE 15 </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/switchportattribs/ class=md-nav__link> <span class=md-ellipsis> Configuring network port attributes </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/thermalpowerconfluent/ class=md-nav__link> <span class=md-ellipsis> Power and Cooling Monitoring with Confluent </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/ubuntudeploy/ class=md-nav__link> <span class=md-ellipsis> OS Deployment Notes for Ubuntu </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/updatesw_rhel/ class=md-nav__link> <span class=md-ellipsis> Applying software updates to RedHat/CentOS </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Troubleshooting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Troubleshooting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../troubleshooting/attributeexpressionstroubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting issues with nodeattribute expressions. </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/confluentnodefirmwareupdatetroubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting issues with nodefirmware and firmware updates </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/confluentosdeployts/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting issues with confluent OS deployment </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/confluentupdatesles/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting issue with updating confluent on SLES 15 </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/nodeshelltroubleshooting/ class=md-nav__link> <span class=md-ellipsis> Confluent nodeshell and apt-get command </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/xcatosdeploymentts/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting issues with xCAT OS deployment and diskless image creation/boot </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Advanced topics </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Advanced topics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../advanced_topics/collective/ class=md-nav__link> <span class=md-ellipsis> Confluent collective mode </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/confluentdiscoverysetting/ class=md-nav__link> <span class=md-ellipsis> Confluent Discovery/Autosense setting </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/confluentenclosuredisco/ class=md-nav__link> <span class=md-ellipsis> Confluent discovery of Enclosure based systems </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/confluentlimitationsosdeploy/ class=md-nav__link> <span class=md-ellipsis> Limitations of usage of Confluent osdeploy initialize across multiple management nodes </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/confluentnodeassign/ class=md-nav__link> <span class=md-ellipsis> Manual discovery with nodediscover assign </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/confluentosdeploy/ class=md-nav__link> <span class=md-ellipsis> Preparing for Operating System Deployment </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/confluentosdeployment/ class=md-nav__link> <span class=md-ellipsis> Confluent OS Deployment and Syslog </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/confluentswitchdisco/ class=md-nav__link> <span class=md-ellipsis> Using switch based discovery </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/confluenttoxcat/ class=md-nav__link> <span class=md-ellipsis> Using confluent discovery to feed xCAT configuration </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/driverupdatemedia/ class=md-nav__link> <span class=md-ellipsis> Using driver update media for RedHat/CentOS </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/el7rste/ class=md-nav__link> <span class=md-ellipsis> Using xCAT to install EL7 on Intel RSTe </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/installxcat_rhel/ class=md-nav__link> <span class=md-ellipsis> xCAT Installation for Red Hat Enterprise Linux 7 </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/installxcat_suse/ class=md-nav__link> <span class=md-ellipsis> xCAT Installation for SUSE Linux Enterprise </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/nodemedia_caveats/ class=md-nav__link> <span class=md-ellipsis> nodemedia caveats </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/remoteconfluent/ class=md-nav__link> <span class=md-ellipsis> Remote confluent </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/rh8installib/ class=md-nav__link> <span class=md-ellipsis> Installing EL8 over InfiniBand </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/sharedinstallnotes/ class=md-nav__link> <span class=md-ellipsis> Using xCAT management nodes with an NFS-mounted install directory </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/sharedtftpnotes/ class=md-nav__link> <span class=md-ellipsis> Using xCAT service nodes with a shared tftpboot directory </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/sle152ibinstall/ class=md-nav__link> <span class=md-ellipsis> Installing SLE 15.2 over InfiniBand </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/sles12rste/ class=md-nav__link> <span class=md-ellipsis> Using xCAT to install SLES12 on Intel RSTe </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/xcataddingsnmp/ class=md-nav__link> <span class=md-ellipsis> Adding snmp support to xCAT </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/xcatconfignotes/ class=md-nav__link> <span class=md-ellipsis> xCAT configuration notes </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/xcatconfluentsetup/ class=md-nav__link> <span class=md-ellipsis> Confluent setup in existing xCAT configuration </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/xcatramrootibboot/ class=md-nav__link> <span class=md-ellipsis> Booting xCAT ramroot over InfiniBand </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/xcatstatelessimagesles152/ class=md-nav__link> <span class=md-ellipsis> xCAT stateless image creation under SLES 15.2 fails </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex> <span class=md-ellipsis> Miscellaneous </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=true> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Miscellaneous </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../bf3-troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting issues with upgrading BlueField-3 BFB using DOCA (host) 3.0 </span> </a> </li> <li class=md-nav__item> <a href=../broadcom-nic-driver-install/ class=md-nav__link> <span class=md-ellipsis> Broadcom NIC driver install on Ubuntu 24.04.2 </span> </a> </li> <li class=md-nav__item> <a href=../collective_arch/ class=md-nav__link> <span class=md-ellipsis> Confluent collective architecture </span> </a> </li> <li class=md-nav__item> <a href=../confignet/ class=md-nav__link> <span class=md-ellipsis> Confluent multi interface configuration </span> </a> </li> <li class=md-nav__item> <a href=../confluentadoptnode/ class=md-nav__link> <span class=md-ellipsis> Adding an installed node to confluent SSH setup </span> </a> </li> <li class=md-nav__item> <a href=../confluentbackup/ class=md-nav__link> <span class=md-ellipsis> Confluent Database backup and restore </span> </a> </li> <li class=md-nav__item> <a href=../confluentcumulus/ class=md-nav__link> <span class=md-ellipsis> Using a Cumulus switch with confluent </span> </a> </li> <li class=md-nav__item> <a href=../confluentdhcp/ class=md-nav__link> <span class=md-ellipsis> Confluent and DHCP interaction </span> </a> </li> <li class=md-nav__item> <a href=../confluentdiskless/ class=md-nav__link> <span class=md-ellipsis> Using confluent diskless support </span> </a> </li> <li class=md-nav__item> <a href=../confluentdiskless_arch/ class=md-nav__link> <span class=md-ellipsis> Confluent diskless architecture </span> </a> </li> <li class=md-nav__item> <a href=../confluentpxedisco/ class=md-nav__link> <span class=md-ellipsis> Using PXE driven discovery </span> </a> </li> <li class=md-nav__item> <a href=../confluentvxcat/ class=md-nav__link> <span class=md-ellipsis> xCAT and confluent comparison </span> </a> </li> <li class=md-nav__item> <a href=../containerized-confluent/ class=md-nav__link> <span class=md-ellipsis> Containerized confluent run </span> </a> </li> <li class=md-nav__item> <a href=../customosimage/ class=md-nav__link> <span class=md-ellipsis> Creating a custom confluent OS image </span> </a> </li> <li class=md-nav__item> <a href=../doca2-10-intstall/ class=md-nav__link> <span class=md-ellipsis> DOCA 2.10 Installation on RHEL 9.5 </span> </a> </li> <li class=md-nav__item> <a href=../doca3-0-install/ class=md-nav__link> <span class=md-ellipsis> DOCA 3.0 Installation/Upgrade on RHEL 9.5 and Ubuntu 24.04.2 </span> </a> </li> <li class=md-nav__item> <a href=../energyhistogram/ class=md-nav__link> <span class=md-ellipsis> Energy histogram </span> </a> </li> <li class=md-nav__item> <a href=../hpcxtroubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting issues with hpcx </span> </a> </li> <li class=md-nav__item> <a href=../makelimitedtls/ class=md-nav__link> <span class=md-ellipsis> Makelimitedtls </span> </a> </li> <li class=md-nav__item> <a href=../manageconfluent/ class=md-nav__link> <span class=md-ellipsis> Managing hardware using confluent </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> NVIDIA GPU Driver Install on RHEL 9.5 and Ubuntu 24.04.2 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> NVIDIA GPU Driver Install on RHEL 9.5 and Ubuntu 24.04.2 </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#notes class=md-nav__link> <span class=md-ellipsis> Notes </span> </a> </li> <li class=md-nav__item> <a href=#register-and-subscribe-a-rhel-system-to-the-red-hat-customer-portal-using-red-hat-subscription-manager class=md-nav__link> <span class=md-ellipsis> Register and subscribe a RHEL system to the Red Hat Customer Portal using Red Hat Subscription-Manager </span> </a> </li> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#enable-update-repos class=md-nav__link> <span class=md-ellipsis> Enable update repos </span> </a> </li> <li class=md-nav__item> <a href=#install-newer-kernel-packages class=md-nav__link> <span class=md-ellipsis> Install newer kernel packages </span> </a> </li> <li class=md-nav__item> <a href=#install-newer-kernel-devel-packages class=md-nav__link> <span class=md-ellipsis> Install newer kernel devel packages </span> </a> </li> <li class=md-nav__item> <a href=#update-kernel-tools-and-kernel-abi-stablelists class=md-nav__link> <span class=md-ellipsis> Update kernel tools and kernel abi stablelists </span> </a> </li> <li class=md-nav__item> <a href=#install-dkms class=md-nav__link> <span class=md-ellipsis> Install dkms </span> </a> </li> <li class=md-nav__item> <a href=#disable-update-repos class=md-nav__link> <span class=md-ellipsis> Disable update repos </span> </a> </li> <li class=md-nav__item> <a href=#reboot-the-system-using-the-newly-installed-kernel class=md-nav__link> <span class=md-ellipsis> Reboot the system using the newly installed kernel </span> </a> </li> <li class=md-nav__item> <a href=#install-gpu-driver-local-repo class=md-nav__link> <span class=md-ellipsis> Install GPU driver local repo </span> </a> </li> <li class=md-nav__item> <a href=#clean-dnfyum-cache class=md-nav__link> <span class=md-ellipsis> Clean DNF/YUM cache </span> </a> </li> <li class=md-nav__item> <a href=#backup-grubcfg-from-esp class=md-nav__link> <span class=md-ellipsis> Backup grub.cfg from ESP </span> </a> </li> <li class=md-nav__item> <a href=#install-gpu-drivers class=md-nav__link> <span class=md-ellipsis> Install GPU drivers </span> </a> </li> <li class=md-nav__item> <a href=#restore-backed-up-stub-grubcfg-and-fix-grubcfg-in-bootgrub2 class=md-nav__link> <span class=md-ellipsis> Restore backed up stub grub.cfg and fix grub.cfg in /boot/grub2 </span> </a> </li> <li class=md-nav__item> <a href=#reboot class=md-nav__link> <span class=md-ellipsis> Reboot </span> </a> </li> <li class=md-nav__item> <a href=#check-driver-status class=md-nav__link> <span class=md-ellipsis> Check driver status </span> </a> </li> <li class=md-nav__item> <a href=#make-sure-the-version-of-the-nvidia-driver-running-is-correct class=md-nav__link> <span class=md-ellipsis> Make sure the version of the nvidia driver running is correct: </span> </a> </li> <li class=md-nav__item> <a href=#start-the-nvidia-persistenced-service-and-make-sure-its-running-ok class=md-nav__link> <span class=md-ellipsis> Start the nvidia-persistenced service and make sure its running OK: </span> </a> </li> <li class=md-nav__item> <a href=#check-that-nvidia-smi-reports-all-expected-gpus class=md-nav__link> <span class=md-ellipsis> Check that nvidia-smi reports all expected GPUs: </span> </a> </li> <li class=md-nav__item> <a href=#check-the-nvlinks-where-applicable-this-applies-to-all-hgx-systems-and-systems-with-pcie-gpus-with-nvlink-bridge-cards-installed-all-expected-links-should-show-up-at-expected-bandwidth class=md-nav__link> <span class=md-ellipsis> Check the NVLINKs (where applicable--this applies to all HGX systems and systems with PCIe GPUs with NVLINK bridge cards installed). All expected links should show up at expected bandwidth: </span> </a> </li> <li class=md-nav__item> <a href=#check-the-nvlink-fabric-status-applicable-for-hgx-8-way-configurations class=md-nav__link> <span class=md-ellipsis> Check the NVLINK fabric status (applicable for HGX 8-way configurations) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../osdeploysecurity/ class=md-nav__link> <span class=md-ellipsis> Handling of security information in OS deployment </span> </a> </li> <li class=md-nav__item> <a href=../raid-vroc-template/ class=md-nav__link> <span class=md-ellipsis> Template for RAID/VROC boot device </span> </a> </li> <li class=md-nav__item> <a href=../rhinstallib/ class=md-nav__link> <span class=md-ellipsis> Installing EL7 over InfiniBand </span> </a> </li> <li class=md-nav__item> <a href=../rhinstallopa/ class=md-nav__link> <span class=md-ellipsis> Installing EL7 over OmniPath </span> </a> </li> <li class=md-nav__item> <a href=../routeddeployment/ class=md-nav__link> <span class=md-ellipsis> Deployment through a routed network </span> </a> </li> <li class=md-nav__item> <a href=../samplepostscripts/ class=md-nav__link> <span class=md-ellipsis> Osdeployment sample postscripts and their usage </span> </a> </li> <li class=md-nav__item> <a href=../sd650sharednote/ class=md-nav__link> <span class=md-ellipsis> Configured for shared port in SD650 in xCAT </span> </a> </li> <li class=md-nav__item> <a href=../setupconfluent/ class=md-nav__link> <span class=md-ellipsis> Setupconfluent </span> </a> </li> <li class=md-nav__item> <a href=../setupxcat/ class=md-nav__link> <span class=md-ellipsis> Setupxcat </span> </a> </li> <li class=md-nav__item> <a href=../sles12deploy/ class=md-nav__link> <span class=md-ellipsis> OS Deployment Notes for SLES 12.3 </span> </a> </li> <li class=md-nav__item> <a href=../sshdesign/ class=md-nav__link> <span class=md-ellipsis> Confluent SSH Configuration </span> </a> </li> <li class=md-nav__item> <a href=../tlsdesign/ class=md-nav__link> <span class=md-ellipsis> Confluent TLS Configuration </span> </a> </li> <li class=md-nav__item> <a href=../xccdeployment/ class=md-nav__link> <span class=md-ellipsis> Deploying servers using the xClarity Controller </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <div class="md-nav__link md-nav__container"> <a href=../../manuals/ class="md-nav__link "> <span class=md-ellipsis> Manuals </span> </a> <label class="md-nav__link " for=__nav_7 id=__nav_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Manuals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../manuals/collate/ class=md-nav__link> <span class=md-ellipsis> collate </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/collective/ class=md-nav__link> <span class=md-ellipsis> collective </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/confetty/ class=md-nav__link> <span class=md-ellipsis> confetty </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/confluent/ class=md-nav__link> <span class=md-ellipsis> confluent </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/confluent2hosts/ class=md-nav__link> <span class=md-ellipsis> confluent2hosts </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/confluentdbutil/ class=md-nav__link> <span class=md-ellipsis> confluentdbutil </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeapply/ class=md-nav__link> <span class=md-ellipsis> nodeapply </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeattrib/ class=md-nav__link> <span class=md-ellipsis> nodeattrib </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeattribexpressions/ class=md-nav__link> <span class=md-ellipsis> nodeattribexpressions </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodebmcpassword/ class=md-nav__link> <span class=md-ellipsis> nodebmcpassword </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodebmcreset/ class=md-nav__link> <span class=md-ellipsis> nodebmcreset </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeboot/ class=md-nav__link> <span class=md-ellipsis> nodeboot </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeconfig/ class=md-nav__link> <span class=md-ellipsis> nodeconfig </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeconsole/ class=md-nav__link> <span class=md-ellipsis> nodeconsole </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodedefine/ class=md-nav__link> <span class=md-ellipsis> nodedefine </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodedeploy/ class=md-nav__link> <span class=md-ellipsis> nodedeploy </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodediscover/ class=md-nav__link> <span class=md-ellipsis> nodediscover </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeeventlog/ class=md-nav__link> <span class=md-ellipsis> nodeeventlog </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodefirmware/ class=md-nav__link> <span class=md-ellipsis> nodefirmware </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodegroupattrib/ class=md-nav__link> <span class=md-ellipsis> nodegroupattrib </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodegroupdefine/ class=md-nav__link> <span class=md-ellipsis> nodegroupdefine </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodegrouplist/ class=md-nav__link> <span class=md-ellipsis> nodegrouplist </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodegroupremove/ class=md-nav__link> <span class=md-ellipsis> nodegroupremove </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodehealth/ class=md-nav__link> <span class=md-ellipsis> nodehealth </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeidentify/ class=md-nav__link> <span class=md-ellipsis> nodeidentify </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeinventory/ class=md-nav__link> <span class=md-ellipsis> nodeinventory </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodel2traceroute/ class=md-nav__link> <span class=md-ellipsis> nodel2traceroute </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodelicense/ class=md-nav__link> <span class=md-ellipsis> nodelicense </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodelist/ class=md-nav__link> <span class=md-ellipsis> nodelist </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodemedia/ class=md-nav__link> <span class=md-ellipsis> nodemedia </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeping/ class=md-nav__link> <span class=md-ellipsis> nodeping </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodepower/ class=md-nav__link> <span class=md-ellipsis> nodepower </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/noderange/ class=md-nav__link> <span class=md-ellipsis> noderange </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/noderemove/ class=md-nav__link> <span class=md-ellipsis> noderemove </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodereseat/ class=md-nav__link> <span class=md-ellipsis> nodereseat </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodersync/ class=md-nav__link> <span class=md-ellipsis> nodersync </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/noderun/ class=md-nav__link> <span class=md-ellipsis> noderun </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodesensors/ class=md-nav__link> <span class=md-ellipsis> nodesensors </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodesetboot/ class=md-nav__link> <span class=md-ellipsis> nodesetboot </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeshell/ class=md-nav__link> <span class=md-ellipsis> nodeshell </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodestorage/ class=md-nav__link> <span class=md-ellipsis> nodestorage </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodesupport/ class=md-nav__link> <span class=md-ellipsis> nodesupport </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/osdeploy/ class=md-nav__link> <span class=md-ellipsis> osdeploy </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/stats/ class=md-nav__link> <span class=md-ellipsis> stats </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> Developer </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Developer </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../developer/api/ class=md-nav__link> <span class=md-ellipsis> Confluent API Documentation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../downloads/ class=md-nav__link> <span class=md-ellipsis> Downloads </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10> <div class="md-nav__link md-nav__container"> <a href=../../release_notes/ class="md-nav__link "> <span class=md-ellipsis> Release notes </span> </a> <label class="md-nav__link " for=__nav_10 id=__nav_10_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Release notes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_2> <label class=md-nav__link for=__nav_10_2 id=__nav_10_2_label tabindex=0> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_2_label aria-expanded=false> <label class=md-nav__title for=__nav_10_2> <span class="md-nav__icon md-icon"></span> Archive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../release_notes/archive/2025/ class=md-nav__link> <span class=md-ellipsis> 2025 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2024/ class=md-nav__link> <span class=md-ellipsis> 2024 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2023/ class=md-nav__link> <span class=md-ellipsis> 2023 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2022/ class=md-nav__link> <span class=md-ellipsis> 2022 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2021/ class=md-nav__link> <span class=md-ellipsis> 2021 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2020/ class=md-nav__link> <span class=md-ellipsis> 2020 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2019/ class=md-nav__link> <span class=md-ellipsis> 2019 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2018/ class=md-nav__link> <span class=md-ellipsis> 2018 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2017/ class=md-nav__link> <span class=md-ellipsis> 2017 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#notes class=md-nav__link> <span class=md-ellipsis> Notes </span> </a> </li> <li class=md-nav__item> <a href=#register-and-subscribe-a-rhel-system-to-the-red-hat-customer-portal-using-red-hat-subscription-manager class=md-nav__link> <span class=md-ellipsis> Register and subscribe a RHEL system to the Red Hat Customer Portal using Red Hat Subscription-Manager </span> </a> </li> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#enable-update-repos class=md-nav__link> <span class=md-ellipsis> Enable update repos </span> </a> </li> <li class=md-nav__item> <a href=#install-newer-kernel-packages class=md-nav__link> <span class=md-ellipsis> Install newer kernel packages </span> </a> </li> <li class=md-nav__item> <a href=#install-newer-kernel-devel-packages class=md-nav__link> <span class=md-ellipsis> Install newer kernel devel packages </span> </a> </li> <li class=md-nav__item> <a href=#update-kernel-tools-and-kernel-abi-stablelists class=md-nav__link> <span class=md-ellipsis> Update kernel tools and kernel abi stablelists </span> </a> </li> <li class=md-nav__item> <a href=#install-dkms class=md-nav__link> <span class=md-ellipsis> Install dkms </span> </a> </li> <li class=md-nav__item> <a href=#disable-update-repos class=md-nav__link> <span class=md-ellipsis> Disable update repos </span> </a> </li> <li class=md-nav__item> <a href=#reboot-the-system-using-the-newly-installed-kernel class=md-nav__link> <span class=md-ellipsis> Reboot the system using the newly installed kernel </span> </a> </li> <li class=md-nav__item> <a href=#install-gpu-driver-local-repo class=md-nav__link> <span class=md-ellipsis> Install GPU driver local repo </span> </a> </li> <li class=md-nav__item> <a href=#clean-dnfyum-cache class=md-nav__link> <span class=md-ellipsis> Clean DNF/YUM cache </span> </a> </li> <li class=md-nav__item> <a href=#backup-grubcfg-from-esp class=md-nav__link> <span class=md-ellipsis> Backup grub.cfg from ESP </span> </a> </li> <li class=md-nav__item> <a href=#install-gpu-drivers class=md-nav__link> <span class=md-ellipsis> Install GPU drivers </span> </a> </li> <li class=md-nav__item> <a href=#restore-backed-up-stub-grubcfg-and-fix-grubcfg-in-bootgrub2 class=md-nav__link> <span class=md-ellipsis> Restore backed up stub grub.cfg and fix grub.cfg in /boot/grub2 </span> </a> </li> <li class=md-nav__item> <a href=#reboot class=md-nav__link> <span class=md-ellipsis> Reboot </span> </a> </li> <li class=md-nav__item> <a href=#check-driver-status class=md-nav__link> <span class=md-ellipsis> Check driver status </span> </a> </li> <li class=md-nav__item> <a href=#make-sure-the-version-of-the-nvidia-driver-running-is-correct class=md-nav__link> <span class=md-ellipsis> Make sure the version of the nvidia driver running is correct: </span> </a> </li> <li class=md-nav__item> <a href=#start-the-nvidia-persistenced-service-and-make-sure-its-running-ok class=md-nav__link> <span class=md-ellipsis> Start the nvidia-persistenced service and make sure its running OK: </span> </a> </li> <li class=md-nav__item> <a href=#check-that-nvidia-smi-reports-all-expected-gpus class=md-nav__link> <span class=md-ellipsis> Check that nvidia-smi reports all expected GPUs: </span> </a> </li> <li class=md-nav__item> <a href=#check-the-nvlinks-where-applicable-this-applies-to-all-hgx-systems-and-systems-with-pcie-gpus-with-nvlink-bridge-cards-installed-all-expected-links-should-show-up-at-expected-bandwidth class=md-nav__link> <span class=md-ellipsis> Check the NVLINKs (where applicable--this applies to all HGX systems and systems with PCIe GPUs with NVLINK bridge cards installed). All expected links should show up at expected bandwidth: </span> </a> </li> <li class=md-nav__item> <a href=#check-the-nvlink-fabric-status-applicable-for-hgx-8-way-configurations class=md-nav__link> <span class=md-ellipsis> Check the NVLINK fabric status (applicable for HGX 8-way configurations) </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href="https://github.com/xcat2/confluent-docs/edit/master/docs/miscellaneous/nvidiagpudriverinstall.md" title="Edit this page" class="md-content__button md-icon" rel="edit"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href="https://github.com/xcat2/confluent-docs/raw/master/docs/miscellaneous/nvidiagpudriverinstall.md" title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <h1 id=nvidia-gpu-driver-install-on-rhel-95>NVIDIA GPU Driver Install on RHEL 9.5<a class=headerlink href=#nvidia-gpu-driver-install-on-rhel-95 title="Permanent link">&para;</a></h1> <h2 id=notes>Notes<a class=headerlink href=#notes title="Permanent link">&para;</a></h2> <p>The following procedure is for installing the NVIDIA GPU drivers on RHEL 9.5. Note that this is for a single-node install. Scale with nodeshell and arguments to make these steps unattended as needed.</p> <h2 id=register-and-subscribe-a-rhel-system-to-the-red-hat-customer-portal-using-red-hat-subscription-manager>Register and subscribe a RHEL system to the Red Hat Customer Portal using Red Hat Subscription-Manager<a class=headerlink href=#register-and-subscribe-a-rhel-system-to-the-red-hat-customer-portal-using-red-hat-subscription-manager title="Permanent link">&para;</a></h2> <p>This is required because some of the packages required are only available for registered systems. <div class=highlight><pre><span></span><code>subscription-manager register --username &lt;username&gt; --password &lt;password&gt; 
subscription-manager release --set=9.5
subscription-manager repos --enable codeready-builder-for-rhel-9-x86_64-rpms
dnf install -y wget
wget https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm
rpm -ivh epel-release-latest-9.noarch.rpm
dnf install dnf-plugin-config-manager
crb enable
</code></pre></div></p> <h2 id=prerequisites>Prerequisites<a class=headerlink href=#prerequisites title="Permanent link">&para;</a></h2> <p>DOCA must be installed <strong><em>before</em></strong> installing the GPU drivers to make sure the nvidia-peermem kernel module gets the right Infiniband symbols.</p> <h2 id=enable-update-repos>Enable update repos<a class=headerlink href=#enable-update-repos title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>subscription-manager repos --enable=rhel-9-for-x86_64-baseos-rpms
subscription-manager repos --enable=rhel-9-for-x86_64-appstream-rpms
</code></pre></div> <h2 id=install-newer-kernel-packages>Install newer kernel packages<a class=headerlink href=#install-newer-kernel-packages title="Permanent link">&para;</a></h2> <p>Note that these steps install a new version as opposed to replacing the older kernel version(s), so the system can be booted to the older kernel version(s) if needed. <div class=highlight><pre><span></span><code>dnf install kernel kernel-core kernel-modules-core kernel-modules 
</code></pre></div></p> <h2 id=install-newer-kernel-devel-packages>Install newer kernel devel packages<a class=headerlink href=#install-newer-kernel-devel-packages title="Permanent link">&para;</a></h2> <p>Note that these steps install a new version as opposed to replacing the older kernel version(s), so the system can be booted to the older kernel version(s) if needed. <div class=highlight><pre><span></span><code>dnf install kernel-devel kernel-devel-matched kernel-headers kernel-modules-extra
</code></pre></div></p> <h2 id=update-kernel-tools-and-kernel-abi-stablelists>Update kernel tools and kernel abi stablelists<a class=headerlink href=#update-kernel-tools-and-kernel-abi-stablelists title="Permanent link">&para;</a></h2> <p>Note that this still will update the existing kernel tools packages, as multiple versions of these kernel tools on the system as the same time. <div class=highlight><pre><span></span><code>dnf install kernel-tools kernel-tools-libs kernel-abi-stablelists
</code></pre></div></p> <h2 id=install-dkms>Install dkms<a class=headerlink href=#install-dkms title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>dnf install dkms
</code></pre></div> <h2 id=disable-update-repos>Disable update repos<a class=headerlink href=#disable-update-repos title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>subscription-manager repos --disable=rhel-9-for-x86_64-appstream-rpms
subscription-manager repos --disable=rhel-9-for-x86_64-baseos-rpms
</code></pre></div> <h2 id=reboot-the-system-using-the-newly-installed-kernel>Reboot the system using the newly installed kernel<a class=headerlink href=#reboot-the-system-using-the-newly-installed-kernel title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>reboot
</code></pre></div> <h2 id=install-gpu-driver-local-repo>Install GPU driver local repo<a class=headerlink href=#install-gpu-driver-local-repo title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>rpm -ivh &lt;path to nvidia local repo RPM&gt;/nvidia-driver-local-repo-rhel9-570.124.06-1.0-1.x86_64.rpm
</code></pre></div> <h2 id=clean-dnfyum-cache>Clean DNF/YUM cache<a class=headerlink href=#clean-dnfyum-cache title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>dnf clean all
</code></pre></div> <h2 id=backup-grubcfg-from-esp>Backup grub.cfg from ESP<a class=headerlink href=#backup-grubcfg-from-esp title="Permanent link">&para;</a></h2> <p>When installing the nvidia-kmod-common package from the NVIDIA 570.124.06 local driver repo on RHEL 9.5 on an EFI-booted system, the /boot/efi/EFI/redhat/grub.cfg file, which is a "stub" grub.cfg in the EFI system partition (ESP) that only points to /boot/grub2 for the full grub.cfg, is overwritten with a full grub.cfg and the grub.cfg in /boot/grub2 is not updated. To work around this, backup the grub.cfg in the ESP (this will be restored and the grub.cfg file in /boot/grub2 fixed after installing the GPU drivers): <div class=highlight><pre><span></span><code>cp /boot/efi/EFI/redhat/grub.cfg ~/grub.cfg.PRE-NVIDIA
</code></pre></div></p> <h2 id=install-gpu-drivers>Install GPU drivers<a class=headerlink href=#install-gpu-drivers title="Permanent link">&para;</a></h2> <p><strong>Note</strong> The nvidia-fabric-manager package is only necesssary on 8-GPU HGX configs. <div class=highlight><pre><span></span><code>dnf install nvidia-driver-cuda kmod-nvidia-open-dkms nvidia-fabric-manager
</code></pre></div></p> <h2 id=restore-backed-up-stub-grubcfg-and-fix-grubcfg-in-bootgrub2>Restore backed up stub grub.cfg and fix grub.cfg in /boot/grub2<a class=headerlink href=#restore-backed-up-stub-grubcfg-and-fix-grubcfg-in-bootgrub2 title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>cp -f /boot/efi/EFI/redhat/grub.cfg /boot/grub2
cp -f ~/grub.cfg.PRE-NVIDIA /boot/efi/EFI/redhat95/grub.cfg
</code></pre></div> <h2 id=reboot>Reboot<a class=headerlink href=#reboot title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>reboot
</code></pre></div> <h2 id=check-driver-status>Check driver status<a class=headerlink href=#check-driver-status title="Permanent link">&para;</a></h2> <p>The following should show the correct driver version installed for the correct kernel version: <div class=highlight><pre><span></span><code>dkms status
</code></pre></div> The nvidia driver should be loaded and the nouveau driver should not be loaded:</p> <div class=highlight><pre><span></span><code>lsmod | grep -i nvidia
lsmod | grep -i nouveau
</code></pre></div> <p>Make sure the nouveau driver never loaded during the boot process:</p> <div class=highlight><pre><span></span><code>dmesg | grep -i nouveau
</code></pre></div> <h2 id=make-sure-the-version-of-the-nvidia-driver-running-is-correct>Make sure the version of the nvidia driver running is correct:<a class=headerlink href=#make-sure-the-version-of-the-nvidia-driver-running-is-correct title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>cat /sys/module/nvidia/version
</code></pre></div> <h2 id=start-the-nvidia-persistenced-service-and-make-sure-its-running-ok>Start the nvidia-persistenced service and make sure its running OK:<a class=headerlink href=#start-the-nvidia-persistenced-service-and-make-sure-its-running-ok title="Permanent link">&para;</a></h2> <p><div class=highlight><pre><span></span><code>systemctl start nvidia-persistenced
systemctl status nvidia-persistenced
</code></pre></div> Start the nvidia-fabricmanager service and make sure its running OK (note, this is only necessary for and should only be run on 8-GPU HGX systems only): <div class=highlight><pre><span></span><code>systemctl start nvidia-fabricmanager
systemctl status nvidia-fabricmanager
</code></pre></div></p> <h2 id=check-that-nvidia-smi-reports-all-expected-gpus>Check that nvidia-smi reports all expected GPUs:<a class=headerlink href=#check-that-nvidia-smi-reports-all-expected-gpus title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>nvidia-smi
</code></pre></div> <h2 id=check-the-nvlinks-where-applicable-this-applies-to-all-hgx-systems-and-systems-with-pcie-gpus-with-nvlink-bridge-cards-installed-all-expected-links-should-show-up-at-expected-bandwidth>Check the NVLINKs (where applicable--this applies to all HGX systems and systems with PCIe GPUs with NVLINK bridge cards installed). All expected links should show up at expected bandwidth:<a class=headerlink href=#check-the-nvlinks-where-applicable-this-applies-to-all-hgx-systems-and-systems-with-pcie-gpus-with-nvlink-bridge-cards-installed-all-expected-links-should-show-up-at-expected-bandwidth title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>nvidia-smi nvlink -s
</code></pre></div> <h2 id=check-the-nvlink-fabric-status-applicable-for-hgx-8-way-configurations>Check the NVLINK fabric status (applicable for HGX 8-way configurations)<a class=headerlink href=#check-the-nvlink-fabric-status-applicable-for-hgx-8-way-configurations title="Permanent link">&para;</a></h2> <p><div class=highlight><pre><span></span><code>nvidia-smi -q -i 0 | grep -i -A 2 Fabric
</code></pre></div> The output from that command should appear as follows: <div class=highlight><pre><span></span><code>        GPU Fabric GUID                   : 0x7215545ecf79e88f
    Inforom Version
        Image Version                     : G525.0225.00.05
--
    Fabric
        State                             : Completed
        Status                            : Success
</code></pre></div></p> <p><br> <br> <br> <br></p> <h1 id=nvidia-gpu-driver-install-on-ubuntu-24042>NVIDIA GPU Driver Install on Ubuntu 24.04.2<a class=headerlink href=#nvidia-gpu-driver-install-on-ubuntu-24042 title="Permanent link">&para;</a></h1> <h2 id=notes_1>Notes<a class=headerlink href=#notes_1 title="Permanent link">&para;</a></h2> <p>The following procedure is for installing the NVIDIA GPU drivers on Ubuntu 24.04.2.</p> <p><strong>NOTE</strong> This is for a single-node install. Scale with nodeshell. Arguments to make these steps unattended have been included.</p> <h2 id=install-the-nvidia-driver-local-repo>Install the NVIDIA driver local repo<a class=headerlink href=#install-the-nvidia-driver-local-repo title="Permanent link">&para;</a></h2> <p>Install the NVIDIA driver local repo package. Note that while this can be redundant with the CUDA local repo package, since the CUDA local repo package also contains the NVIDIA drivers, there can be cases where a different version of the NVIDIA driver from that contained in the version of CUDA that is being used is desired. Because of that, this procedure details installing the NVIDIA GPU drivers from the NVIDIA driver local repo. <div class=highlight><pre><span></span><code>dpkg -i /cluster/drivers/nvidia/570.124.06/nvidia-driver-local-repo-ubuntu2404-570.124.06_1.0-1_amd64.deb
</code></pre></div></p> <h2 id=enroll-the-nvidia-driver-local-repo-gpg-key>Enroll the NVIDIA driver local repo GPG key<a class=headerlink href=#enroll-the-nvidia-driver-local-repo-gpg-key title="Permanent link">&para;</a></h2> <p>Enroll the GPG key for the NVIDIA driver local repo: <div class=highlight><pre><span></span><code>cp /var/nvidia-driver-local-repo-ubuntu2404-570.124.06/nvidia-driver-local-D67F55A1-keyring.gpg /usr/share/keyrings/
</code></pre></div></p> <h2 id=pin-the-nvidia-gpu-driver-version-to-that-from-the-nvidia-gpu-driver-local-repo>Pin the NVIDIA GPU driver version to that from the NVIDIA GPU driver local repo<a class=headerlink href=#pin-the-nvidia-gpu-driver-version-to-that-from-the-nvidia-gpu-driver-local-repo title="Permanent link">&para;</a></h2> <p>The Ubuntu 24.04 OS repos contain many versions of the NVIDIA GPU drivers. To make sure the version installed is the one from the NVIDIA GPU driver local repo installed above, pin the version as follows (note that in this case the 570.124.06 NVIDIA GPU driver version is being used): <div class=highlight><pre><span></span><code>cat &lt;&lt; EOF &gt; /etc/apt/preferences.d/nvidia
Package: src:*nvidia*:any src:cuda-drivers:any src:cuda-compat:any
Pin: version 570.124.06-0ubuntu1
Pin-Priority: 1000
EOF
</code></pre></div></p> <h2 id=update-the-apt-repo-cache>Update the apt repo cache<a class=headerlink href=#update-the-apt-repo-cache title="Permanent link">&para;</a></h2> <p>Update the apt repo cache for the newly installed NVIDIA driver local repo: <div class=highlight><pre><span></span><code>DEBIAN_FRONTEND=noninteractive apt-get update -y
</code></pre></div></p> <h2 id=install-the-nvidia-gpu-driver-packages>Install the NVIDIA GPU driver packages<a class=headerlink href=#install-the-nvidia-gpu-driver-packages title="Permanent link">&para;</a></h2> <p>Install the NVIDIA GPU driver packages. The following examples will install the minimal number of packages necessary, suitable for a light-weight compute node install. <strong>Note</strong> that this step should be done <strong>after</strong> DOCA is installed, otherwise the nvidia-peermem module will not be compiled with the correct InfiniBand support and may fail to load.</p> <p>In most cases the open drivers should be installed, as follows: <div class=highlight><pre><span></span><code>DEBIAN_FRONTEND=noninteractive apt-get install -V -y libnvidia-compute-570 nvidia-dkms-570-open nvidia-compute-utils-570 nvidia-utils-570 libnvidia-cfg1-570
</code></pre></div> However, in some cases issues have been observed with the open drivers (<em>e.g.</em>, when using 5<sup>th</sup> Generation AMD EPYC(TM) Processors). In this case the proprietary drivers should be installed instead: <div class=highlight><pre><span></span><code>DEBIAN_FRONTEND=noninteractive apt-get install -V -y libnvidia-compute-570 nvidia-dkms-570 nvidia-compute-utils-570 nvidia-utils-570 libnvidia-cfg1-570
</code></pre></div></p> <h2 id=extract-the-contents-of-the-cuda-local-repo-package>Extract the contents of the CUDA local repo package<a class=headerlink href=#extract-the-contents-of-the-cuda-local-repo-package title="Permanent link">&para;</a></h2> <p>The CUDA repo is required to install the GPU Direct Storage (GDS) kernel module and utility packages. While the CUDA local repo package can simply be installed locally on each compute node, this can take up a lot of local storage space. A more efficient way of making the CUDA local repo available to all compute nodes is to extract the files from the CUDA local repo package to a network share available to all compute nodes. In the following example, the <code>/cluster</code> directory is the network share mounted on all compute notes, the CUDA local repo package has been placed in the <code>/cluster/software/cuda/12.8.1</code> directory, and the <code>/cluster/software/cuda/12.8.1/ubuntu-repo</code> directory is the location where the CUDA local repo contents will reside. <div class=highlight><pre><span></span><code>cd /cluster/software/cuda/12.8.1
mkdir ubuntu-repo
dpkg-deb -x cuda-repo-ubuntu2404-12-8-local_12.8.1-570.124.06-1_amd64.deb ubuntu-repo
</code></pre></div></p> <h2 id=enroll-the-cuda-local-repo-gpg-key>Enroll the CUDA local repo GPG key<a class=headerlink href=#enroll-the-cuda-local-repo-gpg-key title="Permanent link">&para;</a></h2> <p>Enroll the GPG key for the CUDA local repo: <div class=highlight><pre><span></span><code>cp /cluster/software/cuda/12.8.1/ubuntu-repo/var/cuda-repo-ubuntu2404-12-8-local/cuda-B2775641-keyring.gpg /usr/share/keyrings/
</code></pre></div></p> <h2 id=prioritize-the-cuda-local-repo>Prioritize the CUDA local repo:<a class=headerlink href=#prioritize-the-cuda-local-repo title="Permanent link">&para;</a></h2> <p>To prioritize the CUDA local repo, run the following (note the cuda-ubuntu-2404.pin file has been placed in the <code>/cluster/software/cuda/12.8.1/</code> directory in this case): <div class=highlight><pre><span></span><code>cp /cluster/software/cuda/12.8.1/cuda-ubuntu2404.pin /etc/apt/preferences.d/cuda-repository-pin-600
</code></pre></div></p> <h2 id=copy-the-cuda-repo-doc-files-locally>Copy the CUDA repo doc files locally<a class=headerlink href=#copy-the-cuda-repo-doc-files-locally title="Permanent link">&para;</a></h2> <p>Installing the CUDA local repo, aside from setting up the repo itself, does install the docs for the repo. To replicate this in the case that the CUDA local repo package wasn't actually installed, the doc files can be copied into place. The following command will do that, using the example directories: <div class=highlight><pre><span></span><code>cp -a /cluster/software/cuda/12.8.1/ubuntu-repo/usr/share/doc/cuda-repo-ubuntu2404-12-8-local /usr/share/doc
</code></pre></div></p> <h2 id=setup-apt-repo-list-file-for-cuda-local-repo>Setup apt repo list file for CUDA local repo<a class=headerlink href=#setup-apt-repo-list-file-for-cuda-local-repo title="Permanent link">&para;</a></h2> <p>Since the CUDA local repo package wasn't actually installed, an apt repo list file has to be created to enable the CUDA local repo package contents extracted onto the network share in the step above. The following commands will set that up for the example path: <div class=highlight><pre><span></span><code>cat &lt;&lt; EOF &gt; /etc/apt/sources.list.d/cuda-ubuntu2404-12-8-local.list
deb [signed-by=/usr/share/keyrings/cuda-B2775641-keyring.gpg] file:///cluster/software/cuda/12.8.1/ubuntu-repo/var/cuda-repo-ubuntu2404-12-8-local /
EOF
</code></pre></div></p> <h2 id=update-the-apt-repo-cache_1>Update the apt repo cache<a class=headerlink href=#update-the-apt-repo-cache_1 title="Permanent link">&para;</a></h2> <p>Update the apt repo cache for the newly installed CUDA local repo: <div class=highlight><pre><span></span><code>DEBIAN_FRONTEND=noninteractive apt-get update -y
</code></pre></div></p> <h2 id=install-the-gds-kernel-module-package>Install the GDS kernel module package<a class=headerlink href=#install-the-gds-kernel-module-package title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>DEBIAN_FRONTEND=noninteractive apt-get install -V -y nvidia-fs
</code></pre></div> <h2 id=install-the-gds-utility-packages>Install the GDS utility packages<a class=headerlink href=#install-the-gds-utility-packages title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>DEBIAN_FRONTEND=noninteractive apt-get install -V -y nvidia-gds
</code></pre></div> <h2 id=optional-install-the-nvidia-fabric-manager-packages><strong>OPTIONAL</strong> Install the nvidia-fabric manager packages<a class=headerlink href=#optional-install-the-nvidia-fabric-manager-packages title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>DEBIAN_FRONTEND=noninteractive apt-get install -V -y nvidia-fabricmanager-570 libnvidia-nscq-570 nvidia-imex-570
</code></pre></div> <h2 id=optional-install-additional-nvidia-fabric-manager-packages-for-b200><strong>OPTIONAL</strong> Install additional nvidia-fabric manager packages for B200<a class=headerlink href=#optional-install-additional-nvidia-fabric-manager-packages-for-b200 title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>DEBIAN_FRONTEND=noninteractive apt-get install -V -y /cluster/drivers/nvidia/570.124.06/nvlsm_2025.01.5-1_amd64.deb
</code></pre></div> <h2 id=reboot_1>Reboot<a class=headerlink href=#reboot_1 title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>reboot
</code></pre></div> <h2 id=check-driver-status_1>Check driver status<a class=headerlink href=#check-driver-status_1 title="Permanent link">&para;</a></h2> <p>The following should show the correct driver version installed for the correct kernel version: <div class=highlight><pre><span></span><code>dkms status
</code></pre></div> The nvidia driver should be loaded and the nouveau driver should not be loaded:</p> <div class=highlight><pre><span></span><code>lsmod | grep -i nvidia
lsmod | grep -i nouveau
</code></pre></div> <p>Make sure the nouveau driver never loaded during the boot process:</p> <div class=highlight><pre><span></span><code>dmesg | grep -i nouveau
</code></pre></div> <h2 id=make-sure-the-version-of-the-nvidia-driver-running-is-correct_1>Make sure the version of the nvidia driver running is correct:<a class=headerlink href=#make-sure-the-version-of-the-nvidia-driver-running-is-correct_1 title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>cat /sys/module/nvidia/version
</code></pre></div> <h2 id=start-the-nvidia-persistenced-service-and-make-sure-its-running-ok_1>Start the nvidia-persistenced service and make sure its running OK:<a class=headerlink href=#start-the-nvidia-persistenced-service-and-make-sure-its-running-ok_1 title="Permanent link">&para;</a></h2> <p><div class=highlight><pre><span></span><code>systemctl start nvidia-persistenced
systemctl status nvidia-persistenced
</code></pre></div> Start the nvidia-fabricmanager service and make sure its running OK (note, this is only necessary for and should only be run on 8-GPU HGX systems only): <div class=highlight><pre><span></span><code>systemctl start nvidia-fabricmanager
systemctl status nvidia-fabricmanager
</code></pre></div></p> <h2 id=check-that-nvidia-smi-reports-all-expected-gpus_1>Check that nvidia-smi reports all expected GPUs:<a class=headerlink href=#check-that-nvidia-smi-reports-all-expected-gpus_1 title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>nvidia-smi
</code></pre></div> <h2 id=check-the-nvlinks-where-applicable-this-applies-to-all-hgx-systems-and-systems-with-pcie-gpus-with-nvlink-bridge-cards-installed-all-expected-links-should-show-up-at-expected-bandwidth_1>Check the NVLINKs (where applicable--this applies to all HGX systems and systems with PCIe GPUs with NVLINK bridge cards installed). All expected links should show up at expected bandwidth:<a class=headerlink href=#check-the-nvlinks-where-applicable-this-applies-to-all-hgx-systems-and-systems-with-pcie-gpus-with-nvlink-bridge-cards-installed-all-expected-links-should-show-up-at-expected-bandwidth_1 title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>nvidia-smi nvlink -s
</code></pre></div> <h2 id=check-the-nvlink-fabric-status-applicable-for-hgx-8-way-configurations_1>Check the NVLINK fabric status (applicable for HGX 8-way configurations)<a class=headerlink href=#check-the-nvlink-fabric-status-applicable-for-hgx-8-way-configurations_1 title="Permanent link">&para;</a></h2> <p><div class=highlight><pre><span></span><code>nvidia-smi -q -i 0 | grep -i -A 2 Fabric
</code></pre></div> The output from that command should appear as follows: <div class=highlight><pre><span></span><code>        GPU Fabric GUID                   : 0x7215545ecf79e88f
    Inforom Version
        Image Version                     : G525.0225.00.05
--
    Fabric
        State                             : Completed
        Status                            : Success
</code></pre></div></p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="October 30, 2025 17:26:25 UTC"><span class=timeago datetime=2025-10-30T17:26:25+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="October 30, 2025 17:26:25 UTC">2025-10-30</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="October 30, 2025 17:26:25 UTC"><span class=timeago datetime=2025-10-30T17:26:25+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="October 30, 2025 17:26:25 UTC">2025-10-30</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../manageconfluent/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Managing hardware using confluent"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Managing hardware using confluent </div> </div> </a> <a href=../osdeploysecurity/ class="md-footer__link md-footer__link--next" aria-label="Next: Handling of security information in OS deployment"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Handling of security information in OS deployment </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; Confluent Community </div> Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "content.tooltips", "navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.indexes", "navigation.top", "navigation.footer", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.f55a23d4.min.js></script> <script src=../../js/timeago.min.js></script> <script src=../../js/timeago_mkdocs_material.js></script> </body> </html>