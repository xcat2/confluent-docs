<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Confluent documentation"><meta name=author content="Confluent Community"><link href="https://obihoernchen.github.io/confluent-docs/advanced_topics/confluentosdeploy/" rel="canonical"><link href=../confluentnodeassign/ rel=prev><link href=../confluentosdeployment/ rel=next><link rel=icon href=../../assets/icon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.14"><title>Preparing for Operating System Deployment - Confluent</title><link rel=stylesheet href=../../assets/stylesheets/main.342714a4.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel="stylesheet" href="../../assets/external/fonts.googleapis.com/css.49ea35f2.css"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../css/timeago.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=red data-md-color-accent=red> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#ipv6-configuration class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=Confluent class="md-header__button md-logo" aria-label=Confluent data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Confluent </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Preparing for Operating System Deployment </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=red data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=red data-md-color-accent=red aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href="https://github.com/xcat2/confluent-docs" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> xcat2/confluent-docs </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../getting_started/confluentquickstart_el8/ class=md-tabs__link> Getting started </a> </li> <li class=md-tabs__item> <a href=../../user_reference/attributeexpressions/ class=md-tabs__link> User reference </a> </li> <li class=md-tabs__item> <a href=../../troubleshooting/attributeexpressionstroubleshooting/ class=md-tabs__link> Troubleshooting </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../collective/ class=md-tabs__link> Advanced topics </a> </li> <li class=md-tabs__item> <a href=../../miscellaneous/collective_arch/ class=md-tabs__link> Miscellaneous </a> </li> <li class=md-tabs__item> <a href=../../manuals/ class=md-tabs__link> Manuals </a> </li> <li class=md-tabs__item> <a href=../../developer/api/ class=md-tabs__link> Developer </a> </li> <li class=md-tabs__item> <a href=../../downloads/ class=md-tabs__link> Downloads </a> </li> <li class=md-tabs__item> <a href=../../release_notes/ class=md-tabs__link> Release notes </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=Confluent class="md-nav__button md-logo" aria-label=Confluent data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Confluent </label> <div class=md-nav__source> <a href="https://github.com/xcat2/confluent-docs" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> xcat2/confluent-docs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Getting started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting_started/confluentquickstart_el8/ class=md-nav__link> <span class=md-ellipsis> Confluent quickstart </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/confluentgroups/ class=md-nav__link> <span class=md-ellipsis> Confluent Groups </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/installconfluent_rhel/ class=md-nav__link> <span class=md-ellipsis> Confluent Installation for Red Hat Enterprise Linux </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/installconfluent_ubuntu/ class=md-nav__link> <span class=md-ellipsis> Confluent Installation for Ubuntu </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/installconfluent_suse/ class=md-nav__link> <span class=md-ellipsis> Confluent Installation for SUSE Linux Enterprise </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/configureconfluent/ class=md-nav__link> <span class=md-ellipsis> Configuring confluent </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/ibinstallconfluentrhel8/ class=md-nav__link> <span class=md-ellipsis> InfiniBand install with confluent on RHEL 8 </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/ibinstallconfluentsle152/ class=md-nav__link> <span class=md-ellipsis> InfiniBand install with confluent on SLE 15.2 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> User reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> User reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user_reference/attributeexpressions/ class=md-nav__link> <span class=md-ellipsis> Attribute Expressions </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/centosdeploy/ class=md-nav__link> <span class=md-ellipsis> OS Deployment Notes for CentOS </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/chainedsmmdiscovery/ class=md-nav__link> <span class=md-ellipsis> Discovery with chained ThinkSystem D2 enclosures </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/confluentconfignotes/ class=md-nav__link> <span class=md-ellipsis> Confluent configuration and troubleshooting notes for Lenovo hardware </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/confluentdiscovery/ class=md-nav__link> <span class=md-ellipsis> Node discovery and autoconfiguration with confluent </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/confluentrackview/ class=md-nav__link> <span class=md-ellipsis> Setting up the confluent rackview </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/el7deploy/ class=md-nav__link> <span class=md-ellipsis> OS Deployment Notes for RedHat Enterprise Linux 7 </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/node_attributes/ class=md-nav__link> <span class=md-ellipsis> Node Attributes </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/noderange/ class=md-nav__link> <span class=md-ellipsis> Noderange Syntax </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/suse15deploy/ class=md-nav__link> <span class=md-ellipsis> OS Deployment Notes for SLE/SUSE 15 </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/switchportattribs/ class=md-nav__link> <span class=md-ellipsis> Configuring network port attributes </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/thermalpowerconfluent/ class=md-nav__link> <span class=md-ellipsis> Power and Cooling Monitoring with Confluent </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/ubuntudeploy/ class=md-nav__link> <span class=md-ellipsis> OS Deployment Notes for Ubuntu </span> </a> </li> <li class=md-nav__item> <a href=../../user_reference/updatesw_rhel/ class=md-nav__link> <span class=md-ellipsis> Applying software updates to RedHat/CentOS </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Troubleshooting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Troubleshooting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../troubleshooting/attributeexpressionstroubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting issues with nodeattribute expressions. </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/confluentnodefirmwareupdatetroubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting issues with nodefirmware and firmware updates </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/confluentosdeployts/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting issues with confluent OS deployment </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/confluentupdatesles/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting issue with updating confluent on SLES 15 </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/nodeshelltroubleshooting/ class=md-nav__link> <span class=md-ellipsis> Confluent nodeshell and apt-get command </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/xcatosdeploymentts/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting issues with xCAT OS deployment and diskless image creation/boot </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Advanced topics </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Advanced topics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../collective/ class=md-nav__link> <span class=md-ellipsis> Confluent collective mode </span> </a> </li> <li class=md-nav__item> <a href=../confluentdiscoverysetting/ class=md-nav__link> <span class=md-ellipsis> Confluent Discovery/Autosense setting </span> </a> </li> <li class=md-nav__item> <a href=../confluentenclosuredisco/ class=md-nav__link> <span class=md-ellipsis> Confluent discovery of Enclosure based systems </span> </a> </li> <li class=md-nav__item> <a href=../confluentlimitationsosdeploy/ class=md-nav__link> <span class=md-ellipsis> Limitations of usage of Confluent osdeploy initialize across multiple management nodes </span> </a> </li> <li class=md-nav__item> <a href=../confluentnodeassign/ class=md-nav__link> <span class=md-ellipsis> Manual discovery with nodediscover assign </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Preparing for Operating System Deployment </span> </a> </li> <li class=md-nav__item> <a href=../confluentosdeployment/ class=md-nav__link> <span class=md-ellipsis> Confluent OS Deployment and Syslog </span> </a> </li> <li class=md-nav__item> <a href=../confluentswitchdisco/ class=md-nav__link> <span class=md-ellipsis> Using switch based discovery </span> </a> </li> <li class=md-nav__item> <a href=../confluenttoxcat/ class=md-nav__link> <span class=md-ellipsis> Using confluent discovery to feed xCAT configuration </span> </a> </li> <li class=md-nav__item> <a href=../driverupdatemedia/ class=md-nav__link> <span class=md-ellipsis> Using driver update media for RedHat/CentOS </span> </a> </li> <li class=md-nav__item> <a href=../el7rste/ class=md-nav__link> <span class=md-ellipsis> Using xCAT to install EL7 on Intel RSTe </span> </a> </li> <li class=md-nav__item> <a href=../installxcat_rhel/ class=md-nav__link> <span class=md-ellipsis> xCAT Installation for Red Hat Enterprise Linux 7 </span> </a> </li> <li class=md-nav__item> <a href=../installxcat_suse/ class=md-nav__link> <span class=md-ellipsis> xCAT Installation for SUSE Linux Enterprise </span> </a> </li> <li class=md-nav__item> <a href=../nodemedia_caveats/ class=md-nav__link> <span class=md-ellipsis> nodemedia caveats </span> </a> </li> <li class=md-nav__item> <a href=../remoteconfluent/ class=md-nav__link> <span class=md-ellipsis> Remote confluent </span> </a> </li> <li class=md-nav__item> <a href=../rh8installib/ class=md-nav__link> <span class=md-ellipsis> Installing EL8 over InfiniBand </span> </a> </li> <li class=md-nav__item> <a href=../sharedinstallnotes/ class=md-nav__link> <span class=md-ellipsis> Using xCAT management nodes with an NFS-mounted install directory </span> </a> </li> <li class=md-nav__item> <a href=../sharedtftpnotes/ class=md-nav__link> <span class=md-ellipsis> Using xCAT service nodes with a shared tftpboot directory </span> </a> </li> <li class=md-nav__item> <a href=../sle152ibinstall/ class=md-nav__link> <span class=md-ellipsis> Installing SLE 15.2 over InfiniBand </span> </a> </li> <li class=md-nav__item> <a href=../sles12rste/ class=md-nav__link> <span class=md-ellipsis> Using xCAT to install SLES12 on Intel RSTe </span> </a> </li> <li class=md-nav__item> <a href=../xcataddingsnmp/ class=md-nav__link> <span class=md-ellipsis> Adding snmp support to xCAT </span> </a> </li> <li class=md-nav__item> <a href=../xcatconfignotes/ class=md-nav__link> <span class=md-ellipsis> xCAT configuration notes </span> </a> </li> <li class=md-nav__item> <a href=../xcatconfluentsetup/ class=md-nav__link> <span class=md-ellipsis> Confluent setup in existing xCAT configuration </span> </a> </li> <li class=md-nav__item> <a href=../xcatramrootibboot/ class=md-nav__link> <span class=md-ellipsis> Booting xCAT ramroot over InfiniBand </span> </a> </li> <li class=md-nav__item> <a href=../xcatstatelessimagesles152/ class=md-nav__link> <span class=md-ellipsis> xCAT stateless image creation under SLES 15.2 fails </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Miscellaneous </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Miscellaneous </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../miscellaneous/collective_arch/ class=md-nav__link> <span class=md-ellipsis> Confluent collective architecture </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confignet/ class=md-nav__link> <span class=md-ellipsis> Confluent multi interface configuration </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confluentadoptnode/ class=md-nav__link> <span class=md-ellipsis> Adding an installed node to confluent SSH setup </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confluentbackup/ class=md-nav__link> <span class=md-ellipsis> Confluent Database backup and restore </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confluentcumulus/ class=md-nav__link> <span class=md-ellipsis> Using a Cumulus switch with confluent </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confluentdhcp/ class=md-nav__link> <span class=md-ellipsis> Confluent and DHCP interaction </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confluentdiskless/ class=md-nav__link> <span class=md-ellipsis> Using confluent diskless support </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confluentdiskless_arch/ class=md-nav__link> <span class=md-ellipsis> Confluent diskless architecture </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confluentpxedisco/ class=md-nav__link> <span class=md-ellipsis> Using PXE driven discovery </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confluentvxcat/ class=md-nav__link> <span class=md-ellipsis> xCAT and confluent comparison </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/containerized-confluent/ class=md-nav__link> <span class=md-ellipsis> Containerized confluent run </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/customosimage/ class=md-nav__link> <span class=md-ellipsis> Creating a custom confluent OS image </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/energyhistogram/ class=md-nav__link> <span class=md-ellipsis> Energy histogram </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/makelimitedtls/ class=md-nav__link> <span class=md-ellipsis> Makelimitedtls </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/manageconfluent/ class=md-nav__link> <span class=md-ellipsis> Managing hardware using confluent </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/osdeploysecurity/ class=md-nav__link> <span class=md-ellipsis> Handling of security information in OS deployment </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/raid-vroc-template/ class=md-nav__link> <span class=md-ellipsis> Template for RAID/VROC boot device </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/rhinstallib/ class=md-nav__link> <span class=md-ellipsis> Installing EL7 over InfiniBand </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/rhinstallopa/ class=md-nav__link> <span class=md-ellipsis> Installing EL7 over OmniPath </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/routeddeployment/ class=md-nav__link> <span class=md-ellipsis> Deployment through a routed network </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/samplepostscripts/ class=md-nav__link> <span class=md-ellipsis> Osdeployment sample postscripts and their usage </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/sd650sharednote/ class=md-nav__link> <span class=md-ellipsis> Configured for shared port in SD650 in xCAT </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/setupconfluent/ class=md-nav__link> <span class=md-ellipsis> Setupconfluent </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/setupxcat/ class=md-nav__link> <span class=md-ellipsis> Setupxcat </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/sles12deploy/ class=md-nav__link> <span class=md-ellipsis> OS Deployment Notes for SLES 12.3 </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/sshdesign/ class=md-nav__link> <span class=md-ellipsis> Confluent SSH Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/tlsdesign/ class=md-nav__link> <span class=md-ellipsis> Confluent TLS Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/xccdeployment/ class=md-nav__link> <span class=md-ellipsis> Deploying servers using the xClarity Controller </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <div class="md-nav__link md-nav__container"> <a href=../../manuals/ class="md-nav__link "> <span class=md-ellipsis> Manuals </span> </a> <label class="md-nav__link " for=__nav_7 id=__nav_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Manuals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../manuals/collate/ class=md-nav__link> <span class=md-ellipsis> collate </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/collective/ class=md-nav__link> <span class=md-ellipsis> collective </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/confetty/ class=md-nav__link> <span class=md-ellipsis> confetty </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/confluent/ class=md-nav__link> <span class=md-ellipsis> confluent </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/confluent2hosts/ class=md-nav__link> <span class=md-ellipsis> confluent2hosts </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/confluentdbutil/ class=md-nav__link> <span class=md-ellipsis> confluentdbutil </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeapply/ class=md-nav__link> <span class=md-ellipsis> nodeapply </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeattrib/ class=md-nav__link> <span class=md-ellipsis> nodeattrib </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeattribexpressions/ class=md-nav__link> <span class=md-ellipsis> nodeattribexpressions </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodebmcpassword/ class=md-nav__link> <span class=md-ellipsis> nodebmcpassword </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodebmcreset/ class=md-nav__link> <span class=md-ellipsis> nodebmcreset </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeboot/ class=md-nav__link> <span class=md-ellipsis> nodeboot </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeconfig/ class=md-nav__link> <span class=md-ellipsis> nodeconfig </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeconsole/ class=md-nav__link> <span class=md-ellipsis> nodeconsole </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodedefine/ class=md-nav__link> <span class=md-ellipsis> nodedefine </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodedeploy/ class=md-nav__link> <span class=md-ellipsis> nodedeploy </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodediscover/ class=md-nav__link> <span class=md-ellipsis> nodediscover </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeeventlog/ class=md-nav__link> <span class=md-ellipsis> nodeeventlog </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodefirmware/ class=md-nav__link> <span class=md-ellipsis> nodefirmware </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodegroupattrib/ class=md-nav__link> <span class=md-ellipsis> nodegroupattrib </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodegroupdefine/ class=md-nav__link> <span class=md-ellipsis> nodegroupdefine </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodegrouplist/ class=md-nav__link> <span class=md-ellipsis> nodegrouplist </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodegroupremove/ class=md-nav__link> <span class=md-ellipsis> nodegroupremove </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodehealth/ class=md-nav__link> <span class=md-ellipsis> nodehealth </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeidentify/ class=md-nav__link> <span class=md-ellipsis> nodeidentify </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeinventory/ class=md-nav__link> <span class=md-ellipsis> nodeinventory </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodel2traceroute/ class=md-nav__link> <span class=md-ellipsis> nodel2traceroute </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodelicense/ class=md-nav__link> <span class=md-ellipsis> nodelicense </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodelist/ class=md-nav__link> <span class=md-ellipsis> nodelist </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodemedia/ class=md-nav__link> <span class=md-ellipsis> nodemedia </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeping/ class=md-nav__link> <span class=md-ellipsis> nodeping </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodepower/ class=md-nav__link> <span class=md-ellipsis> nodepower </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/noderange/ class=md-nav__link> <span class=md-ellipsis> noderange </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/noderemove/ class=md-nav__link> <span class=md-ellipsis> noderemove </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodereseat/ class=md-nav__link> <span class=md-ellipsis> nodereseat </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodersync/ class=md-nav__link> <span class=md-ellipsis> nodersync </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/noderun/ class=md-nav__link> <span class=md-ellipsis> noderun </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodesensors/ class=md-nav__link> <span class=md-ellipsis> nodesensors </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodesetboot/ class=md-nav__link> <span class=md-ellipsis> nodesetboot </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeshell/ class=md-nav__link> <span class=md-ellipsis> nodeshell </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodestorage/ class=md-nav__link> <span class=md-ellipsis> nodestorage </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodesupport/ class=md-nav__link> <span class=md-ellipsis> nodesupport </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/osdeploy/ class=md-nav__link> <span class=md-ellipsis> osdeploy </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/stats/ class=md-nav__link> <span class=md-ellipsis> stats </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> Developer </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Developer </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../developer/api/ class=md-nav__link> <span class=md-ellipsis> Confluent API Documentation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../downloads/ class=md-nav__link> <span class=md-ellipsis> Downloads </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10> <div class="md-nav__link md-nav__container"> <a href=../../release_notes/ class="md-nav__link "> <span class=md-ellipsis> Release notes </span> </a> <label class="md-nav__link " for=__nav_10 id=__nav_10_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Release notes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_2> <label class=md-nav__link for=__nav_10_2 id=__nav_10_2_label tabindex=0> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_2_label aria-expanded=false> <label class=md-nav__title for=__nav_10_2> <span class="md-nav__icon md-icon"></span> Archive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../release_notes/archive/2025/ class=md-nav__link> <span class=md-ellipsis> 2025 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2024/ class=md-nav__link> <span class=md-ellipsis> 2024 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2023/ class=md-nav__link> <span class=md-ellipsis> 2023 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2022/ class=md-nav__link> <span class=md-ellipsis> 2022 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2021/ class=md-nav__link> <span class=md-ellipsis> 2021 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2020/ class=md-nav__link> <span class=md-ellipsis> 2020 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2019/ class=md-nav__link> <span class=md-ellipsis> 2019 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2018/ class=md-nav__link> <span class=md-ellipsis> 2018 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2017/ class=md-nav__link> <span class=md-ellipsis> 2017 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href="https://github.com/xcat2/confluent-docs/edit/mkdocs/docs/advanced_topics/confluentosdeploy.md" title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href="https://github.com/xcat2/confluent-docs/raw/mkdocs/docs/advanced_topics/confluentosdeploy.md" title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <p>If opting to use the confluent OS deployment mechanism, some additional preparation steps are suggested.</p> <p>Some <a href=../../user_reference/node_attributes/ >node attributes</a> that may be particularly relevant are:</p> <ul> <li><code>crypted.grubpassword</code> - By default, no boot loader password is used, specify one here to configure deployed OS to require a password to modify grub configuration.</li> <li><code>crypted.rootpassword</code> - By default, password based login as root is disabled in deployed operating systems. Set this to a desired value to enable password login. If this is not set, then there will be no way to log into the console of the target system by default. Note that some OSes default to blocking password from root on ssh by default, and confluent by default honors the OS choice on this matter. See 'PermitRootLogin' in sshd_config.</li> <li><code>deployment.encryptboot</code> - Only supported for RHEL or CentOS 8.2 or higher with TPM 2.0. This will cause the boot volume to be encrypted. If the system board is replaced or the TPM2 is otherwise unavailable or cleared, then the contents of the disk will be lost.</li> <li><code>deployment.useinsecureprotocols</code> - To support PXE boot or HTTP boot without HTTPS, set this to <code>firmware</code>.</li> <li><code>dns.domain</code> - Set this to the appropriate DNS domain for search path. It may in some scenarios be omitted, but it is highly recommended to have a domain.</li> <li><code>dns.servers</code> - Set to IP addresses that will provide name resolution services, separated by commas if more than one specified.</li> <li><code>hardwaremanagement.port</code> - If needing to change the XCC (xClarity Controller) network port to be shared with an OCP card or onboard network, set to 'ocp' or 'lom' respectively. Ignore for using the dedicated management port or the SMM (System Management Module) in dense, enclosure hosted systems. Also ignore if you do not use the <code>configbmc</code> script.</li> <li><code>hardwaremanagement.vlan</code> - If needing to set the XCC to be on a tagged vlan, set this to the desired VLAN. Ignore if using the native VLAN. Again, this only applies if you use the <code>configbmc</code> script.</li> <li><code>net.hostname</code> - If wanting to include other aliases for an interface to use to SSH in, use this attribute to indicate aliases other than the nodename itself, using commas as needed to indicate multiple values. This attribute is not needed if the node name is the only desired hostname. Note that this setting may be done for multiple interfaces, e.g. <code>net.compute.hostname={node}-compute</code>, <code>net.fabric.hostname={node}-ib</code>. See <a href=../../miscellaneous/confignet/ >Confluent multi interface configuration </a> for more details on configuring multiple interfaces.</li> <li><code>net.ipv4_gateway</code> - Set to the gateway IP for the deployed system to use. This also supports the multiple interface scheme as mentioned above.</li> <li><code>net.ipv4_method</code> - This defaults to <code>static</code>, based on a name lookup of the node. Use <code>firmwaredhcp</code> if there is an external DHCP server that serves addresses during PXE, but static is desired in the OS. Set to <code>dhcp</code> to delegate OS addresses entirely to a DHCP server. This also supports the multiple interface scheme as mentioned above.</li> <li><code>ntp.servers</code> - NTP servers to use by deployed operating system, separated by commas if more than one specified.</li> </ul> <p>A somewhat minimalist example would be:</p> <div class=highlight><pre><span></span><code># nodegroupattrib everything deployment.useinsecureprotocols=firmware dns.domain=mycluster.example dns.servers=172.30.0.1 net.ipv4_gateway=17.30.0.254
</code></pre></div> <p>Again, if root login by password is desired (if unspecified, only key based login over SSH will be allowed):</p> <div class=highlight><pre><span></span><code># nodegroupattrib everything -p crypted.rootpassword
</code></pre></div> <p>Keep in mind that the OS being deployed may prohibit ssh password login by root as a default, see <code>PermitRootLogin</code> in sshd_config for your distribution for more details.</p> <h1 id=ipv6-configuration>IPv6 configuration<a class=headerlink href=#ipv6-configuration title="Permanent link">&para;</a></h1> <p>Deployment interfaces must have IPv6 enabled, with at least an automatic fe80:: address. Generally this is default network interface configuration. IPv6 need only be enabled, it need not be given any address manually, by DHCP, or by route advertisements, the automatic fe80:: addresses suffice. Full IPv6 and IPv6 exclusive deployment is supported if desired, but even a "pure" IPv4 network will leverage the automatic IPv6 fe80:: for some key features.</p> <h1 id=name-resolution-optional>Name resolution (optional)<a class=headerlink href=#name-resolution-optional title="Permanent link">&para;</a></h1> <p>An existing or otherwise manually configured DNS solution is fine for a confluent managed cluster. If such a solution is unavailable, this section provides a strategy to quickly generate IP addresses and use <code>dnsmasq</code> as a name server.</p> <p>The <a href=../../manuals/confluent2hosts/ ><code>confluent2hosts</code></a> command may be used to manage entries in an /etc/hosts file. This can use <a href=../../user_reference/attributeexpressions/ >attribute expressions</a> to help form entries for a range. Here is an example to generate 8 entries for nodes d1 through d8:</p> <div class=highlight><pre><span></span><code># nodegroupattrib everything dns.domain=cluster.lan
# confluent2hosts d1-d8 -i 172.30.100.{n1}
# grep d5 /etc/hosts
172.30.100.5                            d5 d5.cluster.lan
</code></pre></div> <p>Additionally, confluent2hosts can use the <code>net.*</code> attributes to derive entries based on <code>net.*hostname</code>, <code>net.*ipv4_address</code>, and <code>net.*ipv6_address</code>. Here is an example mixing and matching behaviors to address multiple names on multiple interfaces with ipv6 on one of the interfaces:</p> <div class=highlight><pre><span></span><code># nodegroupattrib dense net.compute.ipv4_address=172.30.100.{n1} net.fabric.ipv4_address=172.20.100.{n1} net.fabric.hostname={node}-ib net.compute.ipv6_address=fd98:8741:ae09::{n1}
# confluent2hosts d1-d8 -a
# grep d5 /etc/hosts
172.30.100.5                            d5 d5.cluster.lan
172.20.100.5                            d5-ib d5-ib.cluster.lan
fd98:8741:ae09::5                       d5 d5.cluster.lan
</code></pre></div> <p>With an /etc/hosts appropriately generated, use the package management software to install dnsmasq and then:</p> <div class=highlight><pre><span></span><code># systemctl enable dnsmasq --now
</code></pre></div> <p>If /etc/hosts is updated, restart dnsmasq, as dnsmasq does not automatically update on update of /etc/hosts.</p> <h1 id=dhcp-optional>DHCP (optional)<a class=headerlink href=#dhcp-optional title="Permanent link">&para;</a></h1> <p>DHCP is not required or if present, may be externally managed. Skip this section if either a DHCP server is already in place or if there is no requirement for a dynamic pool of DHCP addresses on the network. Confluent will not require any DHCP dynamic range if one is not available. However, if wanting to provide a dynamic DHCP range for various devices that may also exist on the network, <code>dnsmasq</code> can provide that functionality. If using <code>dnsmasq</code> on the same system as confluent for DHCP function, add the following to /etc/dnsmasq.conf to allow both dnsmasq and confluent to share the network:</p> <div class=highlight><pre><span></span><code>bind-dynamic
</code></pre></div> <p>The following lines in /etc/dnsmasq.conf would provide a dynamic DHCP range:</p> <div class=highlight><pre><span></span><code>dhcp-range=172.30.242.1,172.30.242.254
</code></pre></div> <p>Avoid suggesting to dnsmasq any directives that would influence PXE boot. See the dnsmasq man page and other documentation for more details on use of dnsmasq.</p> <p>If using a dynamic range on a network, instruct confluent to use <code>firmwaredhcp</code> for deployment:</p> <div class=highlight><pre><span></span><code># nodegroupattrib everything net.ipv4_method=firmwaredhcp
</code></pre></div> <h1 id=having-a-genesis-network-boot-environment-optional>Having a Genesis network boot environment (optional)<a class=headerlink href=#having-a-genesis-network-boot-environment-optional title="Permanent link">&para;</a></h1> <p>The 'genesis' image is a very small network booted linux environment for servicing/rescue. When deployed, the node can run linux commands and can be sshed into as if it were a normal OS, but it won't touch any disks.</p> <p>In confluent, core discovery and functionality like in-band configuration of BMC devices no longer require a Genesis image. However, one is available for use if desired. Install the package <code>confluent-genesis-x86_64</code> if a genesis profile is desired.</p> <p><code>osdeploy initialize</code> (see next step) has an option to generate a genesis profile. Once used, a genesis based profile would be in /var/lib/confluent/public/os/genesis-x86_64/. Of particular interest is the <code>/var/lib/confluent/public/os/gensis-x86_64/scripts/onboot.sh</code> file to govern automatic action, or use ssh after nodes boot to manually perform actions.</p> <h1 id=preparing-for-tftp-optional>Preparing for TFTP (optional)<a class=headerlink href=#preparing-for-tftp-optional title="Permanent link">&para;</a></h1> <p>Note that confluent now supports both PXE and HTTP Boot. If using purely HTTP boot, then you do not need a tftp server at all. Additionally, Secureboot is only fully supported with HTTP Boot. To support clients that are PXE booting, ensure that tftp is installed. Note that xCAT may have already installed and configured tftp. Otherwise an example of installing tftp for RedHat or CentOS would be:</p> <div class=highlight><pre><span></span><code># yum install tftp-server
</code></pre></div> <p><code>osdeploy initialize</code> in an upcoming step will help initialize needed tftp content.</p> <h1 id=configuring-nodes-for-http-boot-optional>Configuring nodes for HTTP Boot (optional)<a class=headerlink href=#configuring-nodes-for-http-boot-optional title="Permanent link">&para;</a></h1> <p>If wanting to use HTTP Boot instead, here is an example to configure Lenovo systems to use HTTP instead of PXE boot:</p> <div class=highlight><pre><span></span><code># nodeconfig d3-d6 NetworkStackSettings.IPv4PXESupport=disable NetworkStackSettings.IPv4HTTPSupport=enable
</code></pre></div> <h1 id=initializing-os-deployment-configuration>Initializing OS deployment configuration<a class=headerlink href=#initializing-os-deployment-configuration title="Permanent link">&para;</a></h1> <p>The <code>osdeploy initialize</code> command is used to prepare a confluent server to deploy operating systems. For first time setup, run osdeploy initialize interactively to be walked through the various options:</p> <div class=highlight><pre><span></span><code># osdeploy initialize -i
</code></pre></div> <p>Every option provides a command line flag to use instead of -i if wanting to run osdeploy initialize in a non-interactive fashion opting into the specified options.</p> <h1 id=importing-an-install-source-from-media>Importing an install source from media<a class=headerlink href=#importing-an-install-source-from-media title="Permanent link">&para;</a></h1> <p>The <code>osdeploy import</code> is used to take recognized installation media and produce stock OS deployment profiles:</p> <div class=highlight><pre><span></span><code># osdeploy import rhel-server-8.2-x86_64-dvd.iso 
Importing from /var/lib/confluent/iso/rhel-server-8.2-x86_64-dvd.iso to /var/lib/confluent/distributions/rhel-8.2-x86_64
complete: 100.00%    
Deployment profile created: rhel-8.2-x86_64-default
</code></pre></div> <h1 id=customizing-or-copying-a-profile>Customizing or copying a profile<a class=headerlink href=#customizing-or-copying-a-profile title="Permanent link">&para;</a></h1> <p>A deployment profile is simply the collection of files in /var/lib/confluent/public/os/<profilename>. The stock profile may be edited in place, however to create a copy for customization, it is as straightforward as:</p> <div class=highlight><pre><span></span><code># cd /var/lib/confluent/public/os/
# cp -a rhel-8.2-x86_64-default rhel-8.2-x86_64-custom
# cd /var/lib/confluent/private/os/
# cp -a rhel-8.2-x86_64-default rhel-8.2-x86_64-custom
</code></pre></div> <p>For Ubuntu profiles, you also need to modify profile.yaml to update the profile name embedded in the kernel arguments, and then run <code>osdeploy updateboot newprofilenamehere</code>.</p> <p>Note that not all profiles contain private data, by default diskless images and captured clones have an encryption key in private, but scripted installs do not. Further note that a profile name may experience problems if the profile name is longer than 73 characters.</p> <p>If having a lot of shared content, it may be wise to employ symbolic links to explicitly share content rather than creating several copies of the same content (scripts or otherwise). It may also be a good idea to use git to manage and track changes as well.</p> <p>Labels and kernel arguments are in the profile.yaml file in the directory. If modifying that file or kernel or initramfs content, the boot payloads of a profile can be updated with:</p> <div class=highlight><pre><span></span><code># osdeploy updateboot rhel-8.2-x86_64-custom
</code></pre></div> <p>A profile by default will use symbolic links for some content, but most smaller configuration and script files are simply copied and may be freely edited. Updates to confluent will not automatically replace any kickstart, autoyast, autoinstall, or script content in existing profiles without manual intervention. It is recommended to examine and modify kickstart.custom in CentOS and RedHat profiles, to make decisions about default firewall and SELinux configuration on nodes.</p> <p>Any content in a profile can be freely edited without worry about an update later overwriting it. However, if an update is performed and it is desired for a profile to merge in content from the package updates, <code>osdeploy rebase</code> can be used:</p> <div class=highlight><pre><span></span><code># osdeploy rebase alma-8.7-x86_64-custom
Updated: scripts/confignet
Skipping update of scripts/firstboot.sh as current copy was customized or no manifest data was available
</code></pre></div> <h1 id=specifying-custom-postscripts-or-ansible-plays>Specifying custom postscripts or ansible plays<a class=headerlink href=#specifying-custom-postscripts-or-ansible-plays title="Permanent link">&para;</a></h1> <p>A number of phases are opened up for injecting custom scripts or ansible plays. Scripts are executed directly on the deployment server while ansible plays are executed by the deployment server targeting the deploying system as if it were specified as a host in the play.</p> <p>The <code>pre</code> phase occurs prior to any disk formatting or installation. This is a good time to manage RAID configuration, override install disk autodection, specify non-default partition plan, extend package list or otherwise dynamically modify the scripted install file prior to installation. To override install disk, write the desired target disk to /tmp/installdisk. Override default partitioning by writing to /tmp/partitioning.</p> <p>The <code>post</code> phase occurs after the installation has written content to disk, but prior to actually booting into the installation. This is generally the optimal place to make most on-disk changes to an installed system to ensure they are in effect from the onset. This phase will be followed by an outage as the system reboots into the installed system.</p> <p>The <code>firstboot</code> phase occurs after the installed system has booted into the target system, has brought up the network and has sshd running. This is useful for changes that may depend upon drivers that would not have been configured yet in the <code>post</code> phase or else must run when the system is effectively immediately ready to be put into use.</p> <p>The <code>onboot</code> phase is only for diskless boots, and behaves similarly to <code>firstboot</code>, but runs on every boot, since each diskless boot must start from scratch. Where possible, doing modifications to the image itself (e.g. using <code>imgutil exec</code>) is recommended to keep memory consumption down and boot time down.</p> <p>All content are simple files stored under the respective profile (/var/lib/confluent/public/os/[profile]). For scripted install profiles and cloning, scripts may be placed in scripts/pre.d, scripts/post.d, and scripts/firstboot.d. For diskless installs, scripts/onboot.d is available. Note that content under /var/lib/confluent/public is considered non-sensitive and must not include any passwords, secret keys, or similarly sensitive information. See the document <a href=../../miscellaneous/osdeploysecurity/ >Handling of security information in OS deployment</a> for guidance.</p> <p>Additionally check files like kickstart.custom in the top level directory for some suggested alterations.</p> <h1 id=handling-xclarity-controller-or-tsm-on-shared-ports-on-board-network-or-ocp>Handling xClarity Controller or TSM on shared ports (on board network or OCP)<a class=headerlink href=#handling-xclarity-controller-or-tsm-on-shared-ports-on-board-network-or-ocp title="Permanent link">&para;</a></h1> <p>If wanting to move the xClarity Controller or TSM to be accessed over a port shared with the operating system, see either <code>pre.custom</code> of an install profile or <code>onboot.sh</code> of the genesis profile for examples of how to incorporate <code>configbmc</code> into a Genesis boot or an install. This will move the network port to allow out of band discovery to continue and set username and password remotely.</p> <h1 id=requesting-os-deployment>Requesting os deployment<a class=headerlink href=#requesting-os-deployment title="Permanent link">&para;</a></h1> <p>Even before discovery, nodedeploy is able to request that the next boot be into a profile:</p> <div class=highlight><pre><span></span><code># nodedeploy &lt;nodes&gt; -p rhel-8.2-x86_64-default
</code></pre></div> <p>After the xClarity Controller or equivalents are accesible, it can also initiate a boot to network (whether manually configured or if running this after discovery has been done):</p> <div class=highlight><pre><span></span><code># nodedeploy &lt;nodes&gt; -n rhel-8.2-x86_64-default
</code></pre></div> <h1 id=requesting-node-identifiers-from-nodeinventory>Requesting node identifiers from nodeinventory<a class=headerlink href=#requesting-node-identifiers-from-nodeinventory title="Permanent link">&para;</a></h1> <p>If discovery has been skipped and a BMC has been added manually, then the following command will populate attributes needed for deployment for most scenarios:</p> <div class=highlight><pre><span></span><code># nodeinventory node -s
</code></pre></div> <h1 id=manually-indicating-node-identifiers>Manually indicating node identifiers<a class=headerlink href=#manually-indicating-node-identifiers title="Permanent link">&para;</a></h1> <p>For many users, node identifiers will be automatically gathered by node discovery process. However, the discovery process is optional, and if not wanting to use the process, or using servers that are not supported by the discovery process, then it is possible to feed the data into the requisite attributes rather than using a discovery process. For a MAC address:</p> <div class=highlight><pre><span></span><code># nodeattrib node net.hwaddr=00:01:02:03:04:05
</code></pre></div> <p>Note that in discovery, we tend to prefer the UUID, as it makes the boot process the most adaptive for dealing with multi-nic booting with only a single identifier. It's also more commonly available in nodeinventory across systems. However, for certain non-Lenovo systems, the UUID may not be reliable and the MAC address can be used. Also if MAC addresses are more familiar, they may be used.</p> <p>Alternatively, a system UUID may be used instead:</p> <div class=highlight><pre><span></span><code># nodeattrib node id.uuid=c70998ec-0585-45da-85f0-f06717ec97e6
</code></pre></div> <h1 id=next-steps>Next steps<a class=headerlink href=#next-steps title="Permanent link">&para;</a></h1> <p>With OS deployment ready, depending on circumstances it may be appropriate to move on to:</p> <ul> <li>Deploying operating systems without disks: <a href=../../miscellaneous/confluentdiskless/ >Using confluent diskless support</a></li> <li>Discovering rackmount systems with dedicated management port in use based on physical location: <a href=../confluentswitchdisco/ >Using switch based discovery</a></li> <li>Discovering systems in server enclosures based on physical location: <a href=../confluentenclosuredisco/ >Using enclosure based discovery</a></li> <li>Discovering systems that have management port shared with the on board network or OCP add-on based on physical location: <a href=../../miscellaneous/confluentpxedisco/ >PXE driven discovery</a></li> <li>Using criteria such as mac address or serial number to manually discover or discover from spreadsheet: <a href=../confluentnodeassign/ >Using nodediscover assign</a></li> </ul> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="April 2, 2025 00:47:02"><span class=timeago datetime=2025-04-02T00:47:02+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="April 2, 2025 00:47:02">2025-04-02</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="August 19, 2020 20:43:50"><span class=timeago datetime=2020-08-19T20:43:50+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="August 19, 2020 20:43:50">2020-08-19</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../confluentnodeassign/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Manual discovery with nodediscover assign"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Manual discovery with nodediscover assign </div> </div> </a> <a href=../confluentosdeployment/ class="md-footer__link md-footer__link--next" aria-label="Next: Confluent OS Deployment and Syslog"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Confluent OS Deployment and Syslog </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; Confluent Community </div> Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "content.tooltips", "navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.indexes", "navigation.top", "navigation.footer", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.13a4f30d.min.js></script> <script src=../../js/timeago.min.js></script> <script src=../../js/timeago_mkdocs_material.js></script> </body> </html>