<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Confluent documentation"><meta name=author content="Confluent Community"><link href="https://obihoernchen.github.io/confluent-docs/user_reference/confluentdiscovery/" rel="canonical"><link href=../confluentconfignotes/ rel=prev><link href=../confluentrackview/ rel=next><link rel=icon href=../../assets/icon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.14"><title>Node discovery and autoconfiguration with confluent - Confluent</title><link rel=stylesheet href=../../assets/stylesheets/main.342714a4.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel="stylesheet" href="../../assets/external/fonts.googleapis.com/css.49ea35f2.css"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../css/timeago.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=red data-md-color-accent=red> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#following-the-discovery-process class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=Confluent class="md-header__button md-logo" aria-label=Confluent data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Confluent </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Node discovery and autoconfiguration with confluent </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=red data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=red data-md-color-accent=red aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href="https://github.com/xcat2/confluent-docs" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> xcat2/confluent-docs </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../getting_started/confluentquickstart_el8/ class=md-tabs__link> Getting started </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../attributeexpressions/ class=md-tabs__link> User reference </a> </li> <li class=md-tabs__item> <a href=../../troubleshooting/attributeexpressionstroubleshooting/ class=md-tabs__link> Troubleshooting </a> </li> <li class=md-tabs__item> <a href=../../advanced_topics/collective/ class=md-tabs__link> Advanced topics </a> </li> <li class=md-tabs__item> <a href=../../miscellaneous/collective_arch/ class=md-tabs__link> Miscellaneous </a> </li> <li class=md-tabs__item> <a href=../../manuals/ class=md-tabs__link> Manuals </a> </li> <li class=md-tabs__item> <a href=../../developer/api/ class=md-tabs__link> Developer </a> </li> <li class=md-tabs__item> <a href=../../downloads/ class=md-tabs__link> Downloads </a> </li> <li class=md-tabs__item> <a href=../../release_notes/ class=md-tabs__link> Release notes </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=Confluent class="md-nav__button md-logo" aria-label=Confluent data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Confluent </label> <div class=md-nav__source> <a href="https://github.com/xcat2/confluent-docs" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> xcat2/confluent-docs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Getting started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting_started/confluentquickstart_el8/ class=md-nav__link> <span class=md-ellipsis> Confluent quickstart </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/confluentgroups/ class=md-nav__link> <span class=md-ellipsis> Confluent Groups </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/installconfluent_rhel/ class=md-nav__link> <span class=md-ellipsis> Confluent Installation for Red Hat Enterprise Linux </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/installconfluent_ubuntu/ class=md-nav__link> <span class=md-ellipsis> Confluent Installation for Ubuntu </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/installconfluent_suse/ class=md-nav__link> <span class=md-ellipsis> Confluent Installation for SUSE Linux Enterprise </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/configureconfluent/ class=md-nav__link> <span class=md-ellipsis> Configuring confluent </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/ibinstallconfluentrhel8/ class=md-nav__link> <span class=md-ellipsis> InfiniBand install with confluent on RHEL 8 </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/ibinstallconfluentsle152/ class=md-nav__link> <span class=md-ellipsis> InfiniBand install with confluent on SLE 15.2 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> User reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> User reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../attributeexpressions/ class=md-nav__link> <span class=md-ellipsis> Attribute Expressions </span> </a> </li> <li class=md-nav__item> <a href=../centosdeploy/ class=md-nav__link> <span class=md-ellipsis> OS Deployment Notes for CentOS </span> </a> </li> <li class=md-nav__item> <a href=../chainedsmmdiscovery/ class=md-nav__link> <span class=md-ellipsis> Discovery with chained ThinkSystem D2 enclosures </span> </a> </li> <li class=md-nav__item> <a href=../confluentconfignotes/ class=md-nav__link> <span class=md-ellipsis> Confluent configuration and troubleshooting notes for Lenovo hardware </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Node discovery and autoconfiguration with confluent </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Node discovery and autoconfiguration with confluent </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#following-the-discovery-process class=md-nav__link> <span class=md-ellipsis> Following the discovery process </span> </a> </li> <li class=md-nav__item> <a href=#manual-discovery class=md-nav__link> <span class=md-ellipsis> Manual discovery </span> </a> <nav class=md-nav aria-label="Manual discovery"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-the-nodediscover-command class=md-nav__link> <span class=md-ellipsis> Using the nodediscover command </span> </a> <nav class=md-nav aria-label="Using the nodediscover command"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#assigning-from-a-spreadsheet-csv-based-on-serial-numbers class=md-nav__link> <span class=md-ellipsis> Assigning from a spreadsheet (.csv) based on serial numbers </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-networkingmacs class=md-nav__link> <span class=md-ellipsis> Using /networking/macs </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#automatic-discovery class=md-nav__link> <span class=md-ellipsis> Automatic discovery </span> </a> <nav class=md-nav aria-label="Automatic discovery"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#selecting-a-discovery-policy class=md-nav__link> <span class=md-ellipsis> Selecting a discovery policy </span> </a> </li> <li class=md-nav__item> <a href=#defining-required-attributes-on-the-nodes-enclosure-managers-and-switches class=md-nav__link> <span class=md-ellipsis> Defining required attributes on the nodes, enclosure managers, and switches </span> </a> </li> <li class=md-nav__item> <a href=#resetting-automatic-discovery-process-for-nodes class=md-nav__link> <span class=md-ellipsis> Resetting automatic discovery process for nodes </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../confluentrackview/ class=md-nav__link> <span class=md-ellipsis> Setting up the confluent rackview </span> </a> </li> <li class=md-nav__item> <a href=../el7deploy/ class=md-nav__link> <span class=md-ellipsis> OS Deployment Notes for RedHat Enterprise Linux 7 </span> </a> </li> <li class=md-nav__item> <a href=../node_attributes/ class=md-nav__link> <span class=md-ellipsis> Node Attributes </span> </a> </li> <li class=md-nav__item> <a href=../noderange/ class=md-nav__link> <span class=md-ellipsis> Noderange Syntax </span> </a> </li> <li class=md-nav__item> <a href=../suse15deploy/ class=md-nav__link> <span class=md-ellipsis> OS Deployment Notes for SLE/SUSE 15 </span> </a> </li> <li class=md-nav__item> <a href=../switchportattribs/ class=md-nav__link> <span class=md-ellipsis> Configuring network port attributes </span> </a> </li> <li class=md-nav__item> <a href=../thermalpowerconfluent/ class=md-nav__link> <span class=md-ellipsis> Power and Cooling Monitoring with Confluent </span> </a> </li> <li class=md-nav__item> <a href=../ubuntudeploy/ class=md-nav__link> <span class=md-ellipsis> OS Deployment Notes for Ubuntu </span> </a> </li> <li class=md-nav__item> <a href=../updatesw_rhel/ class=md-nav__link> <span class=md-ellipsis> Applying software updates to RedHat/CentOS </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Troubleshooting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Troubleshooting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../troubleshooting/attributeexpressionstroubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting issues with nodeattribute expressions. </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/confluentnodefirmwareupdatetroubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting issues with nodefirmware and firmware updates </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/confluentosdeployts/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting issues with confluent OS deployment </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/confluentupdatesles/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting issue with updating confluent on SLES 15 </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/nodeshelltroubleshooting/ class=md-nav__link> <span class=md-ellipsis> Confluent nodeshell and apt-get command </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/xcatosdeploymentts/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting issues with xCAT OS deployment and diskless image creation/boot </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Advanced topics </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Advanced topics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../advanced_topics/collective/ class=md-nav__link> <span class=md-ellipsis> Confluent collective mode </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/confluentdiscoverysetting/ class=md-nav__link> <span class=md-ellipsis> Confluent Discovery/Autosense setting </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/confluentenclosuredisco/ class=md-nav__link> <span class=md-ellipsis> Confluent discovery of Enclosure based systems </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/confluentlimitationsosdeploy/ class=md-nav__link> <span class=md-ellipsis> Limitations of usage of Confluent osdeploy initialize across multiple management nodes </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/confluentnodeassign/ class=md-nav__link> <span class=md-ellipsis> Manual discovery with nodediscover assign </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/confluentosdeploy/ class=md-nav__link> <span class=md-ellipsis> Preparing for Operating System Deployment </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/confluentosdeployment/ class=md-nav__link> <span class=md-ellipsis> Confluent OS Deployment and Syslog </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/confluentswitchdisco/ class=md-nav__link> <span class=md-ellipsis> Using switch based discovery </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/confluenttoxcat/ class=md-nav__link> <span class=md-ellipsis> Using confluent discovery to feed xCAT configuration </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/driverupdatemedia/ class=md-nav__link> <span class=md-ellipsis> Using driver update media for RedHat/CentOS </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/el7rste/ class=md-nav__link> <span class=md-ellipsis> Using xCAT to install EL7 on Intel RSTe </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/installxcat_rhel/ class=md-nav__link> <span class=md-ellipsis> xCAT Installation for Red Hat Enterprise Linux 7 </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/installxcat_suse/ class=md-nav__link> <span class=md-ellipsis> xCAT Installation for SUSE Linux Enterprise </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/nodemedia_caveats/ class=md-nav__link> <span class=md-ellipsis> nodemedia caveats </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/remoteconfluent/ class=md-nav__link> <span class=md-ellipsis> Remote confluent </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/rh8installib/ class=md-nav__link> <span class=md-ellipsis> Installing EL8 over InfiniBand </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/sharedinstallnotes/ class=md-nav__link> <span class=md-ellipsis> Using xCAT management nodes with an NFS-mounted install directory </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/sharedtftpnotes/ class=md-nav__link> <span class=md-ellipsis> Using xCAT service nodes with a shared tftpboot directory </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/sle152ibinstall/ class=md-nav__link> <span class=md-ellipsis> Installing SLE 15.2 over InfiniBand </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/sles12rste/ class=md-nav__link> <span class=md-ellipsis> Using xCAT to install SLES12 on Intel RSTe </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/xcataddingsnmp/ class=md-nav__link> <span class=md-ellipsis> Adding snmp support to xCAT </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/xcatconfignotes/ class=md-nav__link> <span class=md-ellipsis> xCAT configuration notes </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/xcatconfluentsetup/ class=md-nav__link> <span class=md-ellipsis> Confluent setup in existing xCAT configuration </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/xcatramrootibboot/ class=md-nav__link> <span class=md-ellipsis> Booting xCAT ramroot over InfiniBand </span> </a> </li> <li class=md-nav__item> <a href=../../advanced_topics/xcatstatelessimagesles152/ class=md-nav__link> <span class=md-ellipsis> xCAT stateless image creation under SLES 15.2 fails </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Miscellaneous </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Miscellaneous </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../miscellaneous/collective_arch/ class=md-nav__link> <span class=md-ellipsis> Confluent collective architecture </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confignet/ class=md-nav__link> <span class=md-ellipsis> Confluent multi interface configuration </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confluentadoptnode/ class=md-nav__link> <span class=md-ellipsis> Adding an installed node to confluent SSH setup </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confluentbackup/ class=md-nav__link> <span class=md-ellipsis> Confluent Database backup and restore </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confluentcumulus/ class=md-nav__link> <span class=md-ellipsis> Using a Cumulus switch with confluent </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confluentdhcp/ class=md-nav__link> <span class=md-ellipsis> Confluent and DHCP interaction </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confluentdiskless/ class=md-nav__link> <span class=md-ellipsis> Using confluent diskless support </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confluentdiskless_arch/ class=md-nav__link> <span class=md-ellipsis> Confluent diskless architecture </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confluentpxedisco/ class=md-nav__link> <span class=md-ellipsis> Using PXE driven discovery </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/confluentvxcat/ class=md-nav__link> <span class=md-ellipsis> xCAT and confluent comparison </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/containerized-confluent/ class=md-nav__link> <span class=md-ellipsis> Containerized confluent run </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/customosimage/ class=md-nav__link> <span class=md-ellipsis> Creating a custom confluent OS image </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/energyhistogram/ class=md-nav__link> <span class=md-ellipsis> Energy histogram </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/makelimitedtls/ class=md-nav__link> <span class=md-ellipsis> Makelimitedtls </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/manageconfluent/ class=md-nav__link> <span class=md-ellipsis> Managing hardware using confluent </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/osdeploysecurity/ class=md-nav__link> <span class=md-ellipsis> Handling of security information in OS deployment </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/raid-vroc-template/ class=md-nav__link> <span class=md-ellipsis> Template for RAID/VROC boot device </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/rhinstallib/ class=md-nav__link> <span class=md-ellipsis> Installing EL7 over InfiniBand </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/rhinstallopa/ class=md-nav__link> <span class=md-ellipsis> Installing EL7 over OmniPath </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/routeddeployment/ class=md-nav__link> <span class=md-ellipsis> Deployment through a routed network </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/samplepostscripts/ class=md-nav__link> <span class=md-ellipsis> Osdeployment sample postscripts and their usage </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/sd650sharednote/ class=md-nav__link> <span class=md-ellipsis> Configured for shared port in SD650 in xCAT </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/setupconfluent/ class=md-nav__link> <span class=md-ellipsis> Setupconfluent </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/setupxcat/ class=md-nav__link> <span class=md-ellipsis> Setupxcat </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/sles12deploy/ class=md-nav__link> <span class=md-ellipsis> OS Deployment Notes for SLES 12.3 </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/sshdesign/ class=md-nav__link> <span class=md-ellipsis> Confluent SSH Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/tlsdesign/ class=md-nav__link> <span class=md-ellipsis> Confluent TLS Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../miscellaneous/xccdeployment/ class=md-nav__link> <span class=md-ellipsis> Deploying servers using the xClarity Controller </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <div class="md-nav__link md-nav__container"> <a href=../../manuals/ class="md-nav__link "> <span class=md-ellipsis> Manuals </span> </a> <label class="md-nav__link " for=__nav_7 id=__nav_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Manuals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../manuals/collate/ class=md-nav__link> <span class=md-ellipsis> collate </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/collective/ class=md-nav__link> <span class=md-ellipsis> collective </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/confetty/ class=md-nav__link> <span class=md-ellipsis> confetty </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/confluent/ class=md-nav__link> <span class=md-ellipsis> confluent </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/confluent2hosts/ class=md-nav__link> <span class=md-ellipsis> confluent2hosts </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/confluentdbutil/ class=md-nav__link> <span class=md-ellipsis> confluentdbutil </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeapply/ class=md-nav__link> <span class=md-ellipsis> nodeapply </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeattrib/ class=md-nav__link> <span class=md-ellipsis> nodeattrib </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeattribexpressions/ class=md-nav__link> <span class=md-ellipsis> nodeattribexpressions </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodebmcpassword/ class=md-nav__link> <span class=md-ellipsis> nodebmcpassword </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodebmcreset/ class=md-nav__link> <span class=md-ellipsis> nodebmcreset </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeboot/ class=md-nav__link> <span class=md-ellipsis> nodeboot </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeconfig/ class=md-nav__link> <span class=md-ellipsis> nodeconfig </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeconsole/ class=md-nav__link> <span class=md-ellipsis> nodeconsole </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodedefine/ class=md-nav__link> <span class=md-ellipsis> nodedefine </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodedeploy/ class=md-nav__link> <span class=md-ellipsis> nodedeploy </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodediscover/ class=md-nav__link> <span class=md-ellipsis> nodediscover </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeeventlog/ class=md-nav__link> <span class=md-ellipsis> nodeeventlog </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodefirmware/ class=md-nav__link> <span class=md-ellipsis> nodefirmware </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodegroupattrib/ class=md-nav__link> <span class=md-ellipsis> nodegroupattrib </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodegroupdefine/ class=md-nav__link> <span class=md-ellipsis> nodegroupdefine </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodegrouplist/ class=md-nav__link> <span class=md-ellipsis> nodegrouplist </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodegroupremove/ class=md-nav__link> <span class=md-ellipsis> nodegroupremove </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodehealth/ class=md-nav__link> <span class=md-ellipsis> nodehealth </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeidentify/ class=md-nav__link> <span class=md-ellipsis> nodeidentify </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeinventory/ class=md-nav__link> <span class=md-ellipsis> nodeinventory </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodel2traceroute/ class=md-nav__link> <span class=md-ellipsis> nodel2traceroute </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodelicense/ class=md-nav__link> <span class=md-ellipsis> nodelicense </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodelist/ class=md-nav__link> <span class=md-ellipsis> nodelist </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodemedia/ class=md-nav__link> <span class=md-ellipsis> nodemedia </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeping/ class=md-nav__link> <span class=md-ellipsis> nodeping </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodepower/ class=md-nav__link> <span class=md-ellipsis> nodepower </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/noderange/ class=md-nav__link> <span class=md-ellipsis> noderange </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/noderemove/ class=md-nav__link> <span class=md-ellipsis> noderemove </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodereseat/ class=md-nav__link> <span class=md-ellipsis> nodereseat </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodersync/ class=md-nav__link> <span class=md-ellipsis> nodersync </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/noderun/ class=md-nav__link> <span class=md-ellipsis> noderun </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodesensors/ class=md-nav__link> <span class=md-ellipsis> nodesensors </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodesetboot/ class=md-nav__link> <span class=md-ellipsis> nodesetboot </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodeshell/ class=md-nav__link> <span class=md-ellipsis> nodeshell </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodestorage/ class=md-nav__link> <span class=md-ellipsis> nodestorage </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/nodesupport/ class=md-nav__link> <span class=md-ellipsis> nodesupport </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/osdeploy/ class=md-nav__link> <span class=md-ellipsis> osdeploy </span> </a> </li> <li class=md-nav__item> <a href=../../manuals/stats/ class=md-nav__link> <span class=md-ellipsis> stats </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> Developer </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Developer </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../developer/api/ class=md-nav__link> <span class=md-ellipsis> Confluent API Documentation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../downloads/ class=md-nav__link> <span class=md-ellipsis> Downloads </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10> <div class="md-nav__link md-nav__container"> <a href=../../release_notes/ class="md-nav__link "> <span class=md-ellipsis> Release notes </span> </a> <label class="md-nav__link " for=__nav_10 id=__nav_10_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Release notes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_2> <label class=md-nav__link for=__nav_10_2 id=__nav_10_2_label tabindex=0> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_2_label aria-expanded=false> <label class=md-nav__title for=__nav_10_2> <span class="md-nav__icon md-icon"></span> Archive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../release_notes/archive/2025/ class=md-nav__link> <span class=md-ellipsis> 2025 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2024/ class=md-nav__link> <span class=md-ellipsis> 2024 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2023/ class=md-nav__link> <span class=md-ellipsis> 2023 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2022/ class=md-nav__link> <span class=md-ellipsis> 2022 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2021/ class=md-nav__link> <span class=md-ellipsis> 2021 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2020/ class=md-nav__link> <span class=md-ellipsis> 2020 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2019/ class=md-nav__link> <span class=md-ellipsis> 2019 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2018/ class=md-nav__link> <span class=md-ellipsis> 2018 </span> </a> </li> <li class=md-nav__item> <a href=../../release_notes/archive/2017/ class=md-nav__link> <span class=md-ellipsis> 2017 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#following-the-discovery-process class=md-nav__link> <span class=md-ellipsis> Following the discovery process </span> </a> </li> <li class=md-nav__item> <a href=#manual-discovery class=md-nav__link> <span class=md-ellipsis> Manual discovery </span> </a> <nav class=md-nav aria-label="Manual discovery"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-the-nodediscover-command class=md-nav__link> <span class=md-ellipsis> Using the nodediscover command </span> </a> <nav class=md-nav aria-label="Using the nodediscover command"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#assigning-from-a-spreadsheet-csv-based-on-serial-numbers class=md-nav__link> <span class=md-ellipsis> Assigning from a spreadsheet (.csv) based on serial numbers </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-networkingmacs class=md-nav__link> <span class=md-ellipsis> Using /networking/macs </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#automatic-discovery class=md-nav__link> <span class=md-ellipsis> Automatic discovery </span> </a> <nav class=md-nav aria-label="Automatic discovery"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#selecting-a-discovery-policy class=md-nav__link> <span class=md-ellipsis> Selecting a discovery policy </span> </a> </li> <li class=md-nav__item> <a href=#defining-required-attributes-on-the-nodes-enclosure-managers-and-switches class=md-nav__link> <span class=md-ellipsis> Defining required attributes on the nodes, enclosure managers, and switches </span> </a> </li> <li class=md-nav__item> <a href=#resetting-automatic-discovery-process-for-nodes class=md-nav__link> <span class=md-ellipsis> Resetting automatic discovery process for nodes </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href="https://github.com/xcat2/confluent-docs/edit/mkdocs/docs/user_reference/confluentdiscovery.md" title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href="https://github.com/xcat2/confluent-docs/raw/mkdocs/docs/user_reference/confluentdiscovery.md" title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <h1>Node discovery and autoconfiguration with confluent</h1> <p>Note that discovery is an optional portion of confluent that may be skipped. Further, the discovery process does not require that the user log into the target and do anything like change password or network configuration. It is designed to specifically help when a target has not been configured at all and implements everything it needs to automatically change password and adjust networking as required. If you do adjust networking, user, and password through other means, then this portion may be skipped.</p> <p>While it is possible to use confluent by directly specifying the pre-configured address, username, and password of a BMC, confluent also has the ability to automate the deployment of configuration of Integrated Management Module and xClarity Controller devices without knowing the addresses ahead of time. It is even possible to avoid ever provisioning a viable network configuration at all.</p> <p>For optimal results, the confluent server should be on the same network as the management ports. Additionally, it is more robust if IPv6 is enabled, though no IPv6 addresses need to be configured (it can use the fe80:: addresseses that appear by default on network interfaces). Also, the general default configuration for Lenovo servers is to only have the dedicated management port enabled. As such, servers wired such that only the interface available to the OS is available will be unlikely to complete this procedure.</p> <p>With the node definition complete, discovery can now be approached in one of two ways, <a href=#automatic-discovery>automatic</a> or <a href=#manual-discovery>manual</a>. The automatic approach is good for environments that have a well defined map of servers or server enclosures to ethernet switch ports, and the manual approach is good for scenarios like matching nodes up by serial numbers or having a small number of servers to configure or replacing a server or system board.</p> <h2 id=following-the-discovery-process>Following the discovery process<a class=headerlink href=#following-the-discovery-process title="Permanent link">&para;</a></h2> <p>Discovery can be followed by examining <code>/var/log/confluent/events</code>, Using <code>tail -f</code> for example:</p> <div class=highlight><pre><span></span><code>May 25 16:28:25 {&quot;info&quot;: &quot;Discovered n1 (XCC)&quot;} 
May 25 16:28:37 {&quot;info&quot;: &quot;Discovered n4 (XCC)&quot;}
May 25 16:28:38 {&quot;info&quot;: &quot;Discovered n2 (XCC)&quot;} 
May 25 16:28:40 {&quot;info&quot;: &quot;Discovered n3 (XCC)&quot;}
</code></pre></div> <h2 id=manual-discovery>Manual discovery<a class=headerlink href=#manual-discovery title="Permanent link">&para;</a></h2> <p>Manual discovery provides a more interactive approach to deploying systems. This can also aid in debugging attempts at setting up automatic discovery, or repairing the discovery state of a few miswired or misconfigured systems in an otherwise automatic, but locked down discovery configuration.</p> <h3 id=using-the-nodediscover-command>Using the <code>nodediscover</code> command<a class=headerlink href=#using-the-nodediscover-command title="Permanent link">&para;</a></h3> <p>The <code>nodediscover</code> command is intended to aid in exploring available endpoints that may be discovered:</p> <div class=highlight><pre><span></span><code># nodediscover  list
           Node|          Model|         Serial|                                UUID|      Mac Address|        Type|                            Current IP Addresses
---------------|---------------|---------------|------------------------------------|-----------------|------------|------------------------------------------------
               |        5462AC1|        E2YV870|15e55533-8f37-300f-a5f6-f4954e1fec66|08:94:ef:00:f5:0d| lenovo-imm2|      10.240.38.58,fe80::a94:efff:fe00:f50d%eth0
               |        8869AC1|        J110D40|89fdadbc-3d0c-11e6-b9fa-0894ef1b4ed7|08:94:ef:1b:4e:dc| lenovo-imm2|     10.240.38.193,fe80::a94:efff:fe1b:4edc%eth0
               |        8869AC1|        J10VEKX|8be3221c-49e9-11e6-a963-0894ef222409|08:94:ef:22:24:0e| lenovo-imm2|                                   10.240.37.211
               |               |               |4980a05b-f2ec-e611-86af-c3c7e68a9e00|08:94:ef:3b:de:d4|  lenovo-smm|       172.30.33.1,fe80::a94:efff:fe3b:ded4%eth1
               |     7X07CTO1WW|       J30002HG|2b44751a-3481-11e7-bc9b-0a94ef3c8185|08:94:ef:3c:81:83|  lenovo-xcc|    172.30.254.244,fe80::a94:efff:fe3c:8183%eth1
               |     7X2104Z000|       DEV00003|cc099cf9-f9a5-11e6-84c7-db06face6280|08:94:ef:3f:e0:af|  lenovo-xcc|    172.30.254.193,fe80::a94:efff:fe3f:e0af%eth1
               |     7X2104Z000|       DEV00001|00b043c4-029b-11e7-ad41-c7027e3a94d2|08:94:ef:40:87:21|  lenovo-xcc|    172.30.254.251,fe80::a94:efff:fe40:8721%eth1
               |     7X2104Z000|       DEV00002|78b36a03-0356-11e7-9043-a5a2961a0e5c|08:94:ef:40:89:31|  lenovo-xcc|       172.30.34.2,fe80::a94:efff:fe40:8931%eth1
               |     7X2104Z000|       DEV00001|00b043c4-029b-11e7-ad41-c7027e3a94d2|08:94:ef:40:8a:96|  pxe-client|                                                
               |     7X2104Z000|       DEV00004|58962b3d-088b-11e7-b8b8-9e59e5cf61db|08:94:ef:41:01:b5|  lenovo-xcc|        172.30.92.4,fe80::a94:efff:fe41:1b5%eth1
               |     7X18CTO1WW|       J30007Y4|4dce618a-82f5-11e7-badd-0a94ef4a132f|08:94:ef:4a:13:2d|  lenovo-xcc|       172.30.78.2,fe80::a94:efff:fe4a:132d%eth1
</code></pre></div> <p>Note in the above we have examples of Integrated Management Module 2, xClarity Controller, D2 SMM, and PXE client. Also note that it recognizes the relationship between a pxe-client and the managing xcc.</p> <h4 id=assigning-from-a-spreadsheet-csv-based-on-serial-numbers>Assigning from a spreadsheet (.csv) based on serial numbers<a class=headerlink href=#assigning-from-a-spreadsheet-csv-based-on-serial-numbers title="Permanent link">&para;</a></h4> <p>One common scenario is having a spreadsheet of desired configuration together with the serial number. To do this, create a csv file with a header describing the available data followed by records to import. For example:</p> <div class=highlight><pre><span></span><code>node,serial,bmc,bmcuser,bmcpass
r1,J30002HG,172.30.30.1,admin,Passw0rd12
r2,J30007Y4,172.30.30.2,admin,Passw0rd12
</code></pre></div> <p>Then use the <code>nodediscover assign</code> command to deploy the requested configuration:</p> <div class=highlight><pre><span></span><code># nodediscover assign -i serials.csv 
Defined r1
Discovered r1
Defined r2
Discovered r2
</code></pre></div> <p>At this point, the systems are ready for management:</p> <div class=highlight><pre><span></span><code># nodehealth everything|collate
====================================
r1,r2
====================================
ok
</code></pre></div> <h3 id=using-networkingmacs>Using <code>/networking/macs</code><a class=headerlink href=#using-networkingmacs title="Permanent link">&para;</a></h3> <p>If there are switches defined, their mac address tables can be navigated through the <code>/networking/macs</code> interface. Using the mac address example from above:</p> <div class=highlight><pre><span></span><code>/ -&gt; show /networking/macs/by-mac/40-f2-e9-b9-10-1d
possiblenode=&quot;&quot;
mac: 40:f2:e9:b9:10:1d
ports=[
 {
  &quot;switch&quot;: &quot;r8e1&quot;, 
  &quot;macsonport&quot;: 1, 
  &quot;port&quot;: &quot;Ethernet28&quot;
 }
]
/ -&gt;
</code></pre></div> <p>You may also use this to get the mac addresses from an ethernet port, if you do not know the mac address:</p> <div class=highlight><pre><span></span><code>/ -&gt; show /networking/macs/by-switch/r8e1/by-port/Ethernet13/by-mac
08-94-ef-41-01-f0
</code></pre></div> <p>This can help provide additional context to a mac address observed in <code>nodediscover</code> or to debug or help formulate a way to use <a href=#automatic-discovery>automatic discovery</a>.</p> <h2 id=automatic-discovery>Automatic discovery<a class=headerlink href=#automatic-discovery title="Permanent link">&para;</a></h2> <p>As a prelude for automatic discovery, first define the node using the values that it should be configured with at the end, regardless of current configuration. For example, we will define 42 nodes (<code>n1</code> through <code>n42</code>) that upon completion should have an xClarity Controller with the address '10.2.3.(node number)', and the username and password of your choice. Here we will use a group to hold the patterns and just define the nodes with just the single group membership:</p> <div class=highlight><pre><span></span><code>nodegroupdefine compute bmc=10.2.3.{n1}
nodegroupattrib compute -p bmcuser bmcpass
nodegroupattrib compute net.&lt;name&gt;.ipv4_gateway=&lt;IP of gateway for xClarity Controllers to use)
nodedefine n1-n42 groups=compute
</code></pre></div> <p>This will interactively prompt for username and password. This is the desired username and password not necessarily the current. If the devices are at factory default, then they will be changed automatically to the password and username given.</p> <p>If no value is provided for <code>bmc</code> it will not try to program IPv4 addresses, but will instead collect fe80:: ip addresses. This is useful to have confluent commands work regardless of IPv4 misconfiguration, but may not be obvious to all users. Setting net.<name>. ipv4_gateway setting is optional, but needs to be set for the IPV4 gateway setting of the xClarity Controller to be configured by confluent on discovery of the xClarity Controller. The <name> value is arbitrary, but it is useful to use the name of a network, e.g., "mgt" for a management network (IPv4 subnet). The value of this IPv4 gateway address is determined not by this network name in confluent, but by whether it matches in the same IP subnet of the IPv4 addresses set for the "bmc" value. Note that the subnet is typically automatically determined based on the subnet of the interface on the management node for this network (the subnet mask of this inteface is leveraged to determine the subnet mask of the bmc.) If using xCAT's <code>makeconfluentcfg</code> and you want to mandate IPv4 configuration rather than configuring confluent directly, ensure that <code>ipmi. bmc</code> is set on nodes in xCAT. This is normally a natural thing to do, but might not be done for certain nodes like ThinkSystem D2 SMMs.</p> <h3 id=selecting-a-discovery-policy>Selecting a discovery policy<a class=headerlink href=#selecting-a-discovery-policy title="Permanent link">&para;</a></h3> <p>The first step is to opt into an automatic discovery policy. There are three policies:</p> <ul> <li><code>manual</code> disables automatic discovery, this is the default behavior.</li> <li><code>open</code> will always allow a candidate node to be configured as the actual node, regardless of current certificate. This allows the most hands off automation in the face of actions such as replacing a server or system board, but if an attacker can spoof the mac address of a valid management device they could use the discovery process to get the username and password intended for a management device as well as install a certificate of their choosing as trusted to be that node.</li> <li><code>permissive</code> will allow automatic discovery only if the proposed node identity does not already have a known certificate (in the nodes <code>pubkeys.tls_hardwaremanager</code> attribute), allowing new nodes to fill out defined nodes not yet bound to an actual node. Note that nodes that are defined, but not yet discovered are a risk to the same scenario as described in <code>open</code></li> <li><code>pxe</code> allows free replacement of PXE related data (mac addresses and UUID), but will not allow free replacement of secure data. This can be a standalone policy or combined with permissive by using the value <code>permissive,pxe</code>. This allows relaxing the policy to <code>open</code>, but only for PXE data, which cannot have meaningful protections to automate. In this mode, ethernet mac addresses will be collected to a <code>net.&lt;n&gt;.hwaddr</code> field if the corresponding <code>net.&lt;n&gt;.bootable</code> is true.</li> </ul> <p>The policy can be defined on a per node basis or by group. Here we will select <code>permissive,pxe</code> across the board, and enable PXE collection to a field called <code>net.pxe.hwaddr</code>:</p> <div class=highlight><pre><span></span><code>nodegroupattrib everything discovery.policy=permissive,pxe net.pxe.bootable=true
</code></pre></div> <p>The policy can be changed on the fly, if for example you want <code>open</code> or <code>permissive</code> during initial deployment, but change to <code>manual</code> after systems are up:</p> <div class=highlight><pre><span></span><code>nodegroupattrib everything discovery.policy=manual
</code></pre></div> <p>If you have a system that needs to be replaced, you can use manual discovery as documented in the previous section or temporarily override the policy for just the one node:</p> <div class=highlight><pre><span></span><code>nodeattrib n3 discovery.policy=open
</code></pre></div> <h3 id=defining-required-attributes-on-the-nodes-enclosure-managers-and-switches>Defining required attributes on the nodes, enclosure managers, and switches<a class=headerlink href=#defining-required-attributes-on-the-nodes-enclosure-managers-and-switches title="Permanent link">&para;</a></h3> <p>In this example, we have <a href="http://www3.lenovo.com/us/en/data-center/servers/high-density/Lenovo-ThinkSystem-SD530/p/77XX7DSSD53">4 ThinkSystem SD530 servers in a D2 enclosure</a>. That enclosure has a management port plugged into a switch called <code>r8e1</code> on port 8.</p> <p>First we set the enclosure attributes on the nodes:</p> <div class=highlight><pre><span></span><code>nodeattrib n1-n4 enclosure.manager=enc1 enclosure.bay={n1}
</code></pre></div> <p>We then make sure the enclosure manager is a node and configure the location of it's switch port:</p> <div class=highlight><pre><span></span><code>nodeattrib enc1 net.switchport=8 net.switch=r8e1
</code></pre></div> <p>By default, confluent will assume it can use SNMPv1/v2c, community string <code>public</code> to communicate with the switch. To use a different SNMP community string, make sure the ethernet switch is defined as a node and set a value for secret.snmpcommunity:</p> <div class=highlight><pre><span></span><code>nodedefine r8e1 secret.snmpcommunity=otherpublic
</code></pre></div> <p>Or for SNMPv3, use secret.hardwaremanagementuser and hardwaremanagementpassword:</p> <div class=highlight><pre><span></span><code>nodedefine r8e1 secret.hardwaremanagementuser=snmpv3user secret.hardwaremanagementpassword=snmpv3password
</code></pre></div> <p>In the event of a rackmount system, such as the <a href="http://www3.lenovo.com/us/en/data-center/servers/racks/Lenovo-ThinkSystem-SR650/p/77XX7SRSR65">Thinksystem SD650</a>, simply assign net attributes directly to the node:</p> <div class=highlight><pre><span></span><code>nodeattrib n1-n20 net.switchport={n1} net.switch=r8e1
</code></pre></div> <h3 id=resetting-automatic-discovery-process-for-nodes>Resetting automatic discovery process for nodes<a class=headerlink href=#resetting-automatic-discovery-process-for-nodes title="Permanent link">&para;</a></h3> <p>If the wiring or configuration of set of nodes was incorrect at time of discovery, the situation can be corrected by doing <a href=#manual-discovery>manual discovery</a> or by resetting the discovery process for the nodes. Resetting the automatic discovery process can be done by clearing the <code>pubkeys.tls_hardwaremanager</code> attribute:</p> <div class=highlight><pre><span></span><code>nodeattrib n1-n4 pubkeys.tls_hardwaremanager=
</code></pre></div> <p>This can be combined with a configuration change. For example, if we decide that the previous scheme of 10.2.3.{n1} really should be 10.2.4.{n1}:</p> <div class=highlight><pre><span></span><code>nodeattrib n1-n42 hardwaremanagement.manager=10.2.4.{n1} pubkeys.tls_hardwaremanager=
</code></pre></div> <p>This will change the desired ip address and reset the discovery process for those nodes to apply the requested change.</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="May 20, 2025 17:50:49"><span class=timeago datetime=2025-05-20T17:50:49+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="May 20, 2025 17:50:49">2025-05-20</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="May 25, 2017 21:01:29"><span class=timeago datetime=2017-05-25T21:01:29+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="May 25, 2017 21:01:29">2017-05-25</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../confluentconfignotes/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Confluent configuration and troubleshooting notes for Lenovo hardware"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Confluent configuration and troubleshooting notes for Lenovo hardware </div> </div> </a> <a href=../confluentrackview/ class="md-footer__link md-footer__link--next" aria-label="Next: Setting up the confluent rackview"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Setting up the confluent rackview </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; Confluent Community </div> Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "content.tooltips", "navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.indexes", "navigation.top", "navigation.footer", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.13a4f30d.min.js></script> <script src=../../js/timeago.min.js></script> <script src=../../js/timeago_mkdocs_material.js></script> </body> </html>